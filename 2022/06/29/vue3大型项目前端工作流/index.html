<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <meta name="google-site-verification" content="e10lZLZCvqy3sd9xN2geXQVn0vLio96zR92M4L7Vn0o" />

    
    <title>vue3å¤§å‹é¡¹ç›®å‰ç«¯å·¥ä½œæµ | Jake Ma</title>

    <meta name="description" content="&lt;p&gt;é¦–é¡µ  æ–‡ç« è¯¦æƒ…&lt;br&gt;(å»ºè®®æ”¶è—)ä»é›¶åˆ°ä¸€ï¼Œå¸¦ä½ æ­å»º Vue3 ä¼ä¸šçº§å¤§å‹é¡¹ç›®å‰ç«¯å·¥ä½œæµ&lt;br&gt; å‰ç«¯ä¸‰å…ƒåŒå­¦&lt;/p&gt;">
    <meta name="keywords" content="Ant-Thinker JakeMa é©¬ä¸€æ ‹ åšå®¢  ä¸ªäººåšå®¢ å‰ç«¯ åç«¯ æ•°æ®åº“ ç¨‹åºå‘˜ frontend program">

    

    <meta property="og:locale" content="cn,ja,default" />
    <meta property="og:type" content="article" />
    <meta property="og:title" content= "vue3å¤§å‹é¡¹ç›®å‰ç«¯å·¥ä½œæµ | Jake Ma"  />
    <meta property="og:description" content= "&lt;p&gt;é¦–é¡µ  æ–‡ç« è¯¦æƒ…&lt;br&gt;(å»ºè®®æ”¶è—)ä»é›¶åˆ°ä¸€ï¼Œå¸¦ä½ æ­å»º Vue3 ä¼ä¸šçº§å¤§å‹é¡¹ç›®å‰ç«¯å·¥ä½œæµ&lt;br&gt; å‰ç«¯ä¸‰å…ƒåŒå­¦&lt;/p&gt;" />
    <meta property="og:url" content="https://jakemama.github.io/2022/06/29/vue3%E5%A4%A7%E5%9E%8B%E9%A1%B9%E7%9B%AE%E5%89%8D%E7%AB%AF%E5%B7%A5%E4%BD%9C%E6%B5%81/index.html" />
    <meta property="og:site_name" content="" />
    <meta property="article:author" content="JakeMa" />
    <meta property="article:publisher" content="" />
    <meta property="og:description" content="&lt;p&gt;é¦–é¡µ  æ–‡ç« è¯¦æƒ…&lt;br&gt;(å»ºè®®æ”¶è—)ä»é›¶åˆ°ä¸€ï¼Œå¸¦ä½ æ­å»º Vue3 ä¼ä¸šçº§å¤§å‹é¡¹ç›®å‰ç«¯å·¥ä½œæµ&lt;br&gt; å‰ç«¯ä¸‰å…ƒåŒå­¦&lt;/p&gt;" />
    <meta name="twitter:title" content="vue3å¤§å‹é¡¹ç›®å‰ç«¯å·¥ä½œæµ | Jake Ma"/>
    <meta name="twitter:description" content="&lt;p&gt;é¦–é¡µ  æ–‡ç« è¯¦æƒ…&lt;br&gt;(å»ºè®®æ”¶è—)ä»é›¶åˆ°ä¸€ï¼Œå¸¦ä½ æ­å»º Vue3 ä¼ä¸šçº§å¤§å‹é¡¹ç›®å‰ç«¯å·¥ä½œæµ&lt;br&gt; å‰ç«¯ä¸‰å…ƒåŒå­¦&lt;/p&gt;"/>
    <script type="application/ld+json">
        {
            "description": "&lt;p&gt;é¦–é¡µ  æ–‡ç« è¯¦æƒ…&lt;br&gt;(å»ºè®®æ”¶è—)ä»é›¶åˆ°ä¸€ï¼Œå¸¦ä½ æ­å»º Vue3 ä¼ä¸šçº§å¤§å‹é¡¹ç›®å‰ç«¯å·¥ä½œæµ&lt;br&gt; å‰ç«¯ä¸‰å…ƒåŒå­¦&lt;/p&gt;",
            "author": { "@type": "Person", "name": "JakeMa" },
            "@type": "BlogPosting",
            "url": "https://jakemama.github.io/2022/06/29/vue3%E5%A4%A7%E5%9E%8B%E9%A1%B9%E7%9B%AE%E5%89%8D%E7%AB%AF%E5%B7%A5%E4%BD%9C%E6%B5%81/index.html",
            "publisher": {
            "@type": "Organization",
            "logo": {
                "@type": "ImageObject",
                "url": "https://jakemama.github.ioundefined"
            },
            "name": "JakeMa"
            },
            "headline": "vue3å¤§å‹é¡¹ç›®å‰ç«¯å·¥ä½œæµ | Jake Ma",
            "datePublished": "2022-06-29T06:25:46.000Z",
            "mainEntityOfPage": {
                "@type": "WebPage",
                "@id": "https://jakemama.github.io/2022/06/29/vue3%E5%A4%A7%E5%9E%8B%E9%A1%B9%E7%9B%AE%E5%89%8D%E7%AB%AF%E5%B7%A5%E4%BD%9C%E6%B5%81/index.html"
            },
            "@context": "http://schema.org"
        }
    </script>




    

    
    <meta property="algolia:search" data-application-id="96795YLOVI" data-api-key="42fac59586a27a38cc623ad379ef6337" data-index-name="hexo">
    

    

    

    
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ğŸ“–</text></svg>">
    

    

    

    
<link rel="stylesheet" href="/dist/build.css?v=1646451311888.css">


    
<link rel="stylesheet" href="/dist/custom.css?v=1646451311888.css">


    <script>
        window.isPost = true
        window.aomori = {
            
            
            
        }
        window.aomori_logo_typed_animated = true
        window.aomori_search_algolia = true

    </script>

<meta name="generator" content="Hexo 6.3.0"></head>

<body>

    <div class="container">
    <header class="header">
        <div class="header-type">
            
            <div class="header-type-inner">
                
                    <div id="typed-strings" style="display:none">
                        <p>Jake Ma</p>
                    </div>
                    <a class="header-type-title" id="typed" href="/"></a>
                
    
                
            </div>
        </div>
        <div class="header-menu">
            <div class="header-menu-inner">
                
                <a href="/">Home</a>
                
                <a href="/archives">å­˜æ¡£</a>
                
                <a href="/photography">ç…§ç‰‡å¢™</a>
                
            </div>
            <div class="header-menu-social">
                
    <a class="social" target="_blank" href="https://github.com/jakemama">
        <box-icon type='logo' name='github'></box-icon>
    </a>

            </div>
        </div>

        <div class="header-menu-mobile">
            <div class="header-menu-mobile-inner" id="mobile-menu-open">
                <i class="icon icon-menu"></i>
            </div>
        </div>
    </header>

    <div class="header-menu-mobile-menu">
        <div class="header-menu-mobile-menu-bg"></div>
        <div class="header-menu-mobile-menu-wrap">
            <div class="header-menu-mobile-menu-inner">
                <div class="header-menu-mobile-menu-close" id="mobile-menu-close">
                    <i class="icon icon-cross"></i>
                </div>
                <div class="header-menu-mobile-menu-list">
                    
                    <a href="/">Home</a>
                    
                    <a href="/archives">å­˜æ¡£</a>
                    
                    <a href="/photography">ç…§ç‰‡å¢™</a>
                    
                </div>
            </div>
        </div>
    </div>

</div>

    <div class="container">
        <div class="main">
            <section class="inner">
                <section class="inner-main">
                    <div class="post">
    <article id="post-cm7wypahi003deauq5cgn0bnj" class="article article-type-post" itemscope
    itemprop="blogPost">

    <div class="article-inner">

        
          
        
        
        

        
        <header class="article-header">
            
  
    <h1 class="article-title" itemprop="name">
      vue3å¤§å‹é¡¹ç›®å‰ç«¯å·¥ä½œæµ
    </h1>
  

        </header>
        

        <div class="article-more-info article-more-info-post hairline">

            <div class="article-date">
  <time datetime="2022-06-29T06:25:46.000Z" itemprop="datePublished">2022-06-29</time>
</div>

            

            
            <div class="article-tag">
                <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E8%BD%AC%E8%BD%BD/" rel="tag">è½¬è½½</a></li></ul>
            </div>
            

            

        </div>

        <div class="article-entry post-inner-html hairline" itemprop="articleBody">
            <p>é¦–é¡µ  æ–‡ç« è¯¦æƒ…<br>(å»ºè®®æ”¶è—)ä»é›¶åˆ°ä¸€ï¼Œå¸¦ä½ æ­å»º Vue3 ä¼ä¸šçº§å¤§å‹é¡¹ç›®å‰ç«¯å·¥ä½œæµ<br> å‰ç«¯ä¸‰å…ƒåŒå­¦</p>
<span id="more"></span>

<p>Vue3 è·Ÿ Vite æ­£å¼ç‰ˆå‘å¸ƒæœ‰å¾ˆé•¿ä¸€æ®µæ—¶é—´äº†ï¼Œç”Ÿæ€åœˆä¹Ÿæ¸æ¸ä¸°å¯Œèµ·æ¥ï¼Œä½œè€…å·²åœ¨å¤šä¸ªé¡¹ç›®ä¸­ä½¿ç”¨ï¼Œæ€»ç»“ä¸€ä¸‹ï¼šå°±æ˜¯å¿«ï¼ä¹Ÿä¸ç”¨æ‹…å¿ƒç¨³å®šæ€§é—®é¢˜ï¼Œå¼€å‘ä½“éªŒçœŸä¸æ˜¯ä¸€èˆ¬å¥½ï¼è¿˜æ²¡å°è¯•çš„åŒå­¦å¯ä»¥ä»æœ¬æ–‡å¼€å§‹å­¦ä¹ ï¼Œä» 0 å¼€å§‹æ‰‹æŠŠæ‰‹å¸¦ä½ æ­å»ºä¸€å¥—åŸºäº Vite + Vue3 + TypeScript è§„èŒƒçš„å‰ç«¯å·¥ç¨‹åŒ–é¡¹ç›®ç¯å¢ƒã€‚</p>
<p>æœ¬æ–‡ç¯‡å¹…è¾ƒé•¿ï¼Œä»ä»¥ä¸‹å‡ ä¸ªæ–¹é¢å±•å¼€ï¼š</p>
<p>æ¶æ„æ­å»º<br>ä»£ç è§„èŒƒ<br>æäº¤è§„èŒƒ<br>å•å…ƒæµ‹è¯•<br>è‡ªåŠ¨éƒ¨ç½²</p>
<blockquote>
<p>æœ¬é¡¹ç›®å®Œæ•´çš„ä»£ç æ‰˜ç®¡åœ¨ GitHub ä»“åº“ [1] æ¬¢è¿ç‚¹äº®å°æ˜Ÿæ˜Ÿ ğŸŒŸğŸŒŸ</p>
</blockquote>
<h1 id="æŠ€æœ¯æ ˆ"><a href="#æŠ€æœ¯æ ˆ" class="headerlink" title="æŠ€æœ¯æ ˆ"></a><strong>æŠ€æœ¯æ ˆ</strong></h1><p>ç¼–ç¨‹è¯­è¨€ï¼š<code>TypeScript 4.x</code>[2] + <code>JavaScript</code>[3]<br>æ„å»ºå·¥å…·ï¼š<code>Vite 2.x</code>[4]<br>å‰ç«¯æ¡†æ¶ï¼š<code>Vue 3.x</code>[5]<br>è·¯ç”±å·¥å…·ï¼š<code>Vue Router 4.x</code>[6]<br>çŠ¶æ€ç®¡ç†ï¼š<code>Vuex 4.x</code>[7]<br>UI æ¡†æ¶ï¼š<code>Element Plus</code>[8]<br>CSS é¢„ç¼–è¯‘ï¼š<code>Stylus</code>[9] &#x2F; <code>Sass</code>[10] &#x2F; <code>Less</code>[11]<br>HTTP å·¥å…·ï¼š<code>Axios</code>[12]<br>Git Hook å·¥å…·ï¼š<code>husky</code>[13] + <code>lint-staged</code>[14]<br>ä»£ç è§„èŒƒï¼š<code>EditorConfig</code>[15] + <code>Prettier</code>[16] + <code>ESLint</code>[17] + <code>Airbnb JavaScript Style Guide</code>[18]<br>æäº¤è§„èŒƒï¼š<code>Commitizen</code>[19] + <code>Commitlint</code>[20]<br>å•å…ƒæµ‹è¯•ï¼š<code>vue-test-utils</code>[21] + <code>jest</code>[22] + <code>vue-jest</code>[23] + <code>ts-jest</code>[24]<br>è‡ªåŠ¨éƒ¨ç½²ï¼š<code>GitHub Actions</code>[25]</p>
<h1 id="æ¶æ„æ­å»º"><a href="#æ¶æ„æ­å»º" class="headerlink" title="æ¶æ„æ­å»º"></a><strong>æ¶æ„æ­å»º</strong></h1><p>è¯·ç¡®ä¿ä½ çš„ç”µè„‘ä¸ŠæˆåŠŸå®‰è£… Node.jsï¼Œæœ¬é¡¹ç›®ä½¿ç”¨ Vite æ„å»ºå·¥å…·ï¼Œéœ€è¦ Node.js ç‰ˆæœ¬ &gt;&#x3D; 12.0.0ã€‚</p>
<p>æŸ¥çœ‹ Node.js ç‰ˆæœ¬ï¼š</p>
<pre><code>node -v
</code></pre>
<p>å»ºè®®å°† Node.js å‡çº§åˆ°æœ€æ–°çš„ç¨³å®šç‰ˆæœ¬ï¼š</p>
<pre><code># ä½¿ç”¨ nvm å®‰è£…æœ€æ–°ç¨³å®šç‰ˆ Node.js
nvm install stable
</code></pre>
<h2 id="ä½¿ç”¨-Vite-å¿«é€Ÿåˆå§‹åŒ–é¡¹ç›®é›å½¢"><a href="#ä½¿ç”¨-Vite-å¿«é€Ÿåˆå§‹åŒ–é¡¹ç›®é›å½¢" class="headerlink" title="ä½¿ç”¨ Vite å¿«é€Ÿåˆå§‹åŒ–é¡¹ç›®é›å½¢"></a><strong>ä½¿ç”¨ Vite å¿«é€Ÿåˆå§‹åŒ–é¡¹ç›®é›å½¢</strong></h2><p>ä½¿ç”¨ NPMï¼š</p>
<pre><code>npm init @vitejs/app
</code></pre>
<p>ä½¿ç”¨ Yarnï¼š</p>
<pre><code>yarn create @vitejs/app
</code></pre>
<p>ç„¶åæŒ‰ç…§ç»ˆç«¯æç¤ºå®Œæˆä»¥ä¸‹æ“ä½œï¼š</p>
<ol>
<li>è¾“å…¥é¡¹ç›®åç§°</li>
</ol>
<p>ä¾‹å¦‚ï¼šæœ¬é¡¹ç›®åç§° vite-vue3-starter</p>
<p><img src="/../images/vue3%E5%B7%A5%E4%BD%9C%E6%B5%811.webp" alt="&#39;vue3å·¥ä½œæµ1&#39;"></p>
<ol start="2">
<li>é€‰æ‹©æ¨¡æ¿</li>
</ol>
<p>æœ¬é¡¹ç›®éœ€è¦ä½¿ç”¨ Vue3 + TypeScriptï¼Œæ‰€ä»¥æˆ‘ä»¬é€‰æ‹© vue-tsï¼Œä¼šè‡ªåŠ¨å®‰è£… Vue3 å’Œ TypeScriptã€‚</p>
<p><img src="/../images/vue3%E5%B7%A5%E4%BD%9C%E6%B5%812.webp" alt="&#39;vue3å·¥ä½œæµ2&#39;"><br><img src="/../images/vue3%E5%B7%A5%E4%BD%9C%E6%B5%813.webp" alt="&#39;vue3å·¥ä½œæµ3&#39;"></p>
<p>ä½ è¿˜å¯ä»¥é€šè¿‡é™„åŠ çš„å‘½ä»¤è¡Œé€‰é¡¹ç›´æ¥æŒ‡å®šé¡¹ç›®åå’Œæ¨¡æ¿ï¼Œæœ¬é¡¹ç›®è¦æ„å»º Vite + Vue3 + TypeScript é¡¹ç›®ï¼Œåˆ™è¿è¡Œï¼š</p>
<pre><code># npm 6.x
npm init @vitejs/app vite-vue3-starter --template vue-ts

# npm 7+ï¼ˆéœ€è¦é¢å¤–çš„åŒæ¨ªçº¿ï¼‰
npm init @vitejs/app vite-vue3-starter -- --template vue-ts

# yarn
yarn create @vitejs/app vite-vue3-starter --template vue-ts
</code></pre>
<ol start="3">
<li>å®‰è£…ä¾èµ–<pre><code>npm install
</code></pre>
</li>
<li>å¯åŠ¨é¡¹ç›®<pre><code>npm run dev
</code></pre>
<img src="/../images/vue3%E5%B7%A5%E4%BD%9C%E6%B5%814.webp" alt="&#39;vue3å·¥ä½œæµ4&#39;"></li>
</ol>
<p>å¦‚ä¸Šå›¾ï¼Œè¡¨ç¤º Vite + Vue3 + TypeScript ç®€å•çš„é¡¹ç›®éª¨æ¶æ­å»ºå®Œæ¯•ï¼Œä¸‹é¢æˆ‘ä»¬æ¥ä¸ºè¿™ä¸ªé¡¹ç›®é›†æˆ Vue Routerã€Vuexã€Element Plusã€Axiosã€Stylus&#x2F;Sass&#x2F;Lessã€‚</p>
<h2 id="ä¿®æ”¹-Vite-é…ç½®æ–‡ä»¶"><a href="#ä¿®æ”¹-Vite-é…ç½®æ–‡ä»¶" class="headerlink" title="ä¿®æ”¹ Vite é…ç½®æ–‡ä»¶"></a><strong>ä¿®æ”¹ Vite é…ç½®æ–‡ä»¶</strong></h2><p>Vite é…ç½®æ–‡ä»¶<strong>vite.config.ts</strong> ä½äºæ ¹ç›®å½•ä¸‹ï¼Œé¡¹ç›®å¯åŠ¨æ—¶ä¼šè‡ªåŠ¨è¯»å–ã€‚</p>
<p>æœ¬é¡¹ç›®å…ˆåšä¸€äº›ç®€å•é…ç½®ï¼Œä¾‹å¦‚ï¼šè®¾ç½® @ æŒ‡å‘ src ç›®å½•ã€ æœåŠ¡å¯åŠ¨ç«¯å£ã€æ‰“åŒ…è·¯å¾„ã€ä»£ç†ç­‰ã€‚</p>
<p>å…³äº Vite æ›´å¤šé…ç½®é¡¹åŠç”¨æ³•ï¼Œè¯·æŸ¥çœ‹ Vite å®˜ç½‘ <a target="_blank" rel="noopener" href="https://vitejs.dev/config/">https://vitejs.dev/config/</a> ã€‚</p>
<pre><code class="js">import &#123; defineConfig &#125; from &quot;vite&quot;;
import vue from &quot;@vitejs/plugin-vue&quot;;
// å¦‚æœç¼–è¾‘å™¨æç¤º path æ¨¡å—æ‰¾ä¸åˆ°ï¼Œåˆ™å¯ä»¥å®‰è£…ä¸€ä¸‹ @types/node -&gt; npm i @types/node -D
import &#123; resolve &#125; from &quot;path&quot;;

// https://vitejs.dev/config/
export default defineConfig(&#123;
  plugins: [vue()],
  resolve: &#123;
    alias: &#123;
      &quot;@&quot;: resolve(__dirname, &quot;src&quot;), // è®¾ç½® `@` æŒ‡å‘ `src` ç›®å½•
    &#125;,
  &#125;,
  base: &quot;./&quot;, // è®¾ç½®æ‰“åŒ…è·¯å¾„
  server: &#123;
    port: 4000, // è®¾ç½®æœåŠ¡å¯åŠ¨ç«¯å£å·
    open: true, // è®¾ç½®æœåŠ¡å¯åŠ¨æ—¶æ˜¯å¦è‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨
    cors: true, // å…è®¸è·¨åŸŸ

    // è®¾ç½®ä»£ç†ï¼Œæ ¹æ®æˆ‘ä»¬é¡¹ç›®å®é™…æƒ…å†µé…ç½®
    // proxy: &#123;
    //   &#39;/api&#39;: &#123;
    //     target: &#39;http://xxx.xxx.xxx.xxx:8000&#39;,
    //     changeOrigin: true,
    //     secure: false,
    //     rewrite: (path) =&gt; path.replace(&#39;/api/&#39;, &#39;/&#39;)
    //   &#125;
    // &#125;
  &#125;,
&#125;);
</code></pre>
<h2 id="è§„èŒƒç›®å½•ç»“æ„"><a href="#è§„èŒƒç›®å½•ç»“æ„" class="headerlink" title="è§„èŒƒç›®å½•ç»“æ„"></a><strong>è§„èŒƒç›®å½•ç»“æ„</strong></h2><pre><code>â”œâ”€â”€ publish/
â””â”€â”€ src/
    â”œâ”€â”€ assets/                    // é™æ€èµ„æºç›®å½•
    â”œâ”€â”€ common/                    // é€šç”¨ç±»åº“ç›®å½•
    â”œâ”€â”€ components/                // å…¬å…±ç»„ä»¶ç›®å½•
    â”œâ”€â”€ router/                    // è·¯ç”±é…ç½®ç›®å½•
    â”œâ”€â”€ store/                     // çŠ¶æ€ç®¡ç†ç›®å½•
    â”œâ”€â”€ style/                     // é€šç”¨ CSS ç›®å½•
    â”œâ”€â”€ utils/                     // å·¥å…·å‡½æ•°ç›®å½•
    â”œâ”€â”€ views/                     // é¡µé¢ç»„ä»¶ç›®å½•
    â”œâ”€â”€ App.vue
    â”œâ”€â”€ main.ts
    â”œâ”€â”€ shims-vue.d.ts
â”œâ”€â”€ tests/                         // å•å…ƒæµ‹è¯•ç›®å½•
â”œâ”€â”€ index.html
â”œâ”€â”€ tsconfig.json                  // TypeScript é…ç½®æ–‡ä»¶
â”œâ”€â”€ vite.config.ts                 // Vite é…ç½®æ–‡ä»¶
â””â”€â”€ package.json
</code></pre>
<h2 id="é›†æˆè·¯ç”±å·¥å…·-Vue-Router"><a href="#é›†æˆè·¯ç”±å·¥å…·-Vue-Router" class="headerlink" title="é›†æˆè·¯ç”±å·¥å…· Vue Router"></a><strong>é›†æˆè·¯ç”±å·¥å…· Vue Router</strong></h2><ol>
<li>å®‰è£…æ”¯æŒ Vue3 çš„è·¯ç”±å·¥å…· vue-router@4<pre><code>npm i vue-router@4
</code></pre>
</li>
<li>åˆ›å»º src&#x2F;router&#x2F;index.ts æ–‡ä»¶</li>
</ol>
<p>åœ¨ src ä¸‹åˆ›å»º router ç›®å½•ï¼Œç„¶ååœ¨ router ç›®å½•é‡Œæ–°å»º index.ts æ–‡ä»¶ï¼š</p>
<pre><code> â””â”€â”€ src/
     â”œâ”€â”€ router/
         â”œâ”€â”€ index.ts  // è·¯ç”±é…ç½®æ–‡ä»¶
</code></pre>
<pre><code class="js">import &#123;
  createRouter,
  createWebHashHistory,
  RouteRecordRaw,
&#125; from &quot;vue-router&quot;;
import Home from &quot;@/views/home.vue&quot;;
import Vuex from &quot;@/views/vuex.vue&quot;;

const routes: Array&lt;RouteRecordRaw&gt; = [
  &#123;
    path: &quot;/&quot;,
    name: &quot;Home&quot;,
    component: Home,
  &#125;,
  &#123;
    path: &quot;/vuex&quot;,
    name: &quot;Vuex&quot;,
    component: Vuex,
  &#125;,
  &#123;
    path: &quot;/axios&quot;,
    name: &quot;Axios&quot;,
    component: () =&gt; import(&quot;@/views/axios.vue&quot;), // æ‡’åŠ è½½ç»„ä»¶
  &#125;,
];

const router = createRouter(&#123;
  history: createWebHashHistory(),
  routes,
&#125;);

export default router;
</code></pre>
<p>æ ¹æ®æœ¬é¡¹ç›®è·¯ç”±é…ç½®çš„å®é™…æƒ…å†µï¼Œä½ éœ€è¦åœ¨ src ä¸‹åˆ›å»º views ç›®å½•ï¼Œç”¨æ¥å­˜å‚¨é¡µé¢ç»„ä»¶ã€‚</p>
<p>æˆ‘ä»¬åœ¨ views ç›®å½•ä¸‹åˆ›å»º home.vue ã€vuex.vue ã€axios.vueã€‚</p>
<ol start="3">
<li>åœ¨ main.ts æ–‡ä»¶ä¸­æŒ‚è½½è·¯ç”±é…ç½®<br>&#96;&#96;&#96;js<br>import { createApp } from â€œvueâ€;<br>import App from â€œ.&#x2F;App.vueâ€;</li>
</ol>
<p>import router from â€œ.&#x2F;router&#x2F;indexâ€;</p>
<p>createApp(App).use(router).mount(â€œ#appâ€);</p>
<pre><code>## **é›†æˆçŠ¶æ€ç®¡ç†å·¥å…· Vuex**
1. å®‰è£…æ”¯æŒ Vue3 çš„çŠ¶æ€ç®¡ç†å·¥å…· vuex@next
</code></pre>
<p>npm i vuex@next</p>
<pre><code>2. åˆ›å»º src/store/index.ts æ–‡ä»¶

åœ¨ src ä¸‹åˆ›å»º store ç›®å½•ï¼Œç„¶ååœ¨ store ç›®å½•é‡Œæ–°å»º index.ts æ–‡ä»¶ï¼š
</code></pre>
<p>â””â”€â”€ src&#x2F;<br>    â”œâ”€â”€ store&#x2F;<br>        â”œâ”€â”€ index.ts  &#x2F;&#x2F; store é…ç½®æ–‡ä»¶</p>
<pre><code>```js
import &#123; createStore &#125; from &quot;vuex&quot;;

const defaultState = &#123;
  count: 0,
&#125;;

// Create a new store instance.
export default createStore(&#123;
  state() &#123;
    return defaultState;
  &#125;,
  mutations: &#123;
    increment(state: typeof defaultState) &#123;
      state.count++;
    &#125;,
  &#125;,
  actions: &#123;
    increment(context) &#123;
      context.commit(&quot;increment&quot;);
    &#125;,
  &#125;,
  getters: &#123;
    double(state: typeof defaultState) &#123;
      return 2 * state.count;
    &#125;,
  &#125;,
&#125;);
</code></pre>
<ol start="3">
<li>åœ¨ main.ts æ–‡ä»¶ä¸­æŒ‚è½½ Vuex é…ç½®<br>&#96;&#96;&#96;js<br>import { createApp } from â€œvueâ€;<br>import App from â€œ.&#x2F;App.vueâ€;</li>
</ol>
<p>import store from â€œ.&#x2F;store&#x2F;indexâ€;</p>
<p>createApp(App).use(store).mount(â€œ#appâ€);</p>
<pre><code>## **é›†æˆ UI æ¡†æ¶ Element Plus**
1. å®‰è£…æ”¯æŒ Vue3 çš„ UI æ¡†æ¶ Element Plus
</code></pre>
<p>npm i element-plus</p>
<pre><code>2. åœ¨ main.ts æ–‡ä»¶ä¸­æŒ‚è½½ Element Plus
```js
import &#123; createApp &#125; from &quot;vue&quot;;
import App from &quot;./App.vue&quot;;

import ElementPlus from &quot;element-plus&quot;;
import &quot;element-plus/lib/theme-chalk/index.css&quot;;

createApp(App).use(ElementPlus).mount(&quot;#app&quot;);
</code></pre>
<h2 id="é›†æˆ-HTTP-å·¥å…·-Axios"><a href="#é›†æˆ-HTTP-å·¥å…·-Axios" class="headerlink" title="é›†æˆ HTTP å·¥å…· Axios"></a><strong>é›†æˆ HTTP å·¥å…· Axios</strong></h2><ol>
<li>å®‰è£… Axiosï¼ˆAxios è·Ÿ Vue ç‰ˆæœ¬æ²¡æœ‰ç›´æ¥å…³ç³»ï¼Œå®‰è£…æœ€æ–°å³å¯ï¼‰<pre><code>npm i axios
</code></pre>
</li>
<li>é…ç½® Axios</li>
</ol>
<blockquote>
<p>ä¸ºäº†ä½¿é¡¹ç›®çš„ç›®å½•ç»“æ„åˆç†ä¸”è§„èŒƒï¼Œæˆ‘ä»¬åœ¨ src ä¸‹åˆ›å»º utils ç›®å½•æ¥å­˜å‚¨æˆ‘ä»¬å¸¸ç”¨çš„å·¥å…·å‡½æ•°ã€‚</p>
</blockquote>
<p>Axios ä½œä¸º HTTP å·¥å…·ï¼Œæˆ‘ä»¬åœ¨ utils ç›®å½•ä¸‹åˆ›å»º axios.ts ä½œä¸º Axios é…ç½®æ–‡ä»¶ï¼š</p>
<pre><code>â””â”€â”€ src/
    â”œâ”€â”€ utils/
        â”œâ”€â”€ axios.ts  // Axios é…ç½®æ–‡ä»¶
</code></pre>
<pre><code class="js">import Axios from &quot;axios&quot;;
import &#123; ElMessage &#125; from &quot;element-plus&quot;;

const baseURL = &quot;https://api.github.com&quot;;

const axios = Axios.create(&#123;
  baseURL,
  timeout: 20000, // è¯·æ±‚è¶…æ—¶ 20s
&#125;);

// å‰ç½®æ‹¦æˆªå™¨ï¼ˆå‘èµ·è¯·æ±‚ä¹‹å‰çš„æ‹¦æˆªï¼‰
axios.interceptors.request.use(
  (response) =&gt; &#123;
    /**
     * æ ¹æ®ä½ çš„é¡¹ç›®å®é™…æƒ…å†µæ¥å¯¹ config åšå¤„ç†
     * è¿™é‡Œå¯¹ config ä¸åšä»»ä½•å¤„ç†ï¼Œç›´æ¥è¿”å›
     */
    return response;
  &#125;,
  (error) =&gt; &#123;
    return Promise.reject(error);
  &#125;
);

// åç½®æ‹¦æˆªå™¨ï¼ˆè·å–åˆ°å“åº”æ—¶çš„æ‹¦æˆªï¼‰
axios.interceptors.response.use(
  (response) =&gt; &#123;
    /**
     * æ ¹æ®ä½ çš„é¡¹ç›®å®é™…æƒ…å†µæ¥å¯¹ response å’Œ error åšå¤„ç†
     * è¿™é‡Œå¯¹ response å’Œ error ä¸åšä»»ä½•å¤„ç†ï¼Œç›´æ¥è¿”å›
     */
    return response;
  &#125;,
  (error) =&gt; &#123;
    if (error.response &amp;&amp; error.response.data) &#123;
      const code = error.response.status;
      const msg = error.response.data.message;
      ElMessage.error(`Code: $&#123;code&#125;, Message: $&#123;msg&#125;`);
      console.error(`[Axios Error]`, error.response);
    &#125; else &#123;
      ElMessage.error(`$&#123;error&#125;`);
    &#125;
    return Promise.reject(error);
  &#125;
);

export default axios;
</code></pre>
<ol start="3">
<li>ä½¿ç”¨ Axios<br>åœ¨éœ€è¦ä½¿ç”¨ Axios æ–‡ä»¶é‡Œï¼Œå¼•å…¥ Axios é…ç½®æ–‡ä»¶ï¼Œå‚è€ƒå¦‚ä¸‹ï¼š<br>&#96;&#96;&#96;html<br><template></template><script lang="ts">
  import { defineComponent } from "vue";
  import axios from "../utils/axios";</li>
</ol>
<p>  export default defineComponent({<br>    setup() {<br>      axios<br>        .get(â€œ&#x2F;users&#x2F;XPoetâ€)<br>        .then((res) &#x3D;&gt; {<br>          console.log(â€œres: â€œ, res);<br>        })<br>        .catch((err) &#x3D;&gt; {<br>          console.log(â€œerr: â€œ, err);<br>        });<br>    },<br>  });<br></script></p>
<pre><code>
## **é›†æˆ CSS é¢„ç¼–è¯‘å™¨ Stylus/Sass/Less**
æœ¬é¡¹ç›®ä½¿ç”¨ CSS é¢„ç¼–è¯‘å™¨ Stylusï¼Œç›´æ¥å®‰è£…ä¸ºå¼€å‘ä¾èµ–å³å¯ã€‚Vite å†…éƒ¨å·²å¸®æˆ‘ä»¬é›†æˆäº†ç›¸å…³çš„ loaderï¼Œä¸éœ€è¦é¢å¤–é…ç½®ã€‚åŒç†ï¼Œä½ ä¹Ÿå¯ä»¥ä½¿ç”¨ Sass æˆ– Less ç­‰ã€‚

1. å®‰è£…
```bash
npm i stylus -D
# or
npm i sass -D
npm i less -D
</code></pre>
<ol start="2">
<li>ä½¿ç”¨<pre><code class="html">&lt;style lang=&quot;stylus&quot;&gt;
  ...
&lt;/style&gt;
</code></pre>
è‡³æ­¤ï¼Œä¸€ä¸ªåŸºäº TypeScript + Vite + Vue3 + Vue Router + Vuex + Element Plus + Axios + Stylus&#x2F;Sass&#x2F;Less çš„å‰ç«¯é¡¹ç›®å¼€å‘ç¯å¢ƒæ­å»ºå®Œæ¯•ï¼Œé¡¹ç›® Demo æ‰˜ç®¡åœ¨ GitHub ä»“åº“[26]ï¼Œéœ€è¦çš„åŒå­¦å¯ä»¥å»ä¸‹è½½ä¸‹æ¥ï¼Œå‚è€ƒå­¦ä¹ ã€‚</li>
</ol>
<p>ä¸‹é¢æˆ‘ä»¬æ¥æ‰“ç£¨è¿™ä¸ªé¡¹ç›®ï¼Œå¢åŠ ä»£ç è§„èŒƒçº¦æŸã€æäº¤è§„èŒƒçº¦æŸã€å•å…ƒæµ‹è¯•ã€è‡ªåŠ¨éƒ¨ç½²ç­‰ï¼Œè®©å…¶æ›´å®Œå–„ã€æ›´å¥å£®ã€‚</p>
<h1 id="ä»£ç è§„èŒƒ"><a href="#ä»£ç è§„èŒƒ" class="headerlink" title="ä»£ç è§„èŒƒ"></a><strong>ä»£ç è§„èŒƒ</strong></h1><p>éšç€å‰ç«¯åº”ç”¨é€æ¸å˜å¾—å¤§å‹åŒ–å’Œå¤æ‚åŒ–ï¼Œåœ¨åŒä¸€ä¸ªé¡¹ç›®ä¸­æœ‰å¤šä¸ªäººå‘˜å‚ä¸æ—¶ï¼Œæ¯ä¸ªäººçš„å‰ç«¯èƒ½åŠ›ç¨‹åº¦ä¸ç­‰ï¼Œä»–ä»¬å¾€å¾€ä¼šç”¨ä¸åŒçš„ç¼–ç é£æ ¼å’Œä¹ æƒ¯åœ¨é¡¹ç›®ä¸­å†™ä»£ç ï¼Œé•¿æ­¤ä¸‹å»ï¼ŒåŠ¿å¿…ä¼šè®©é¡¹ç›®çš„å¥å£®æ€§è¶Šæ¥è¶Šå·®ã€‚è§£å†³è¿™äº›é—®é¢˜ï¼Œç†è®ºä¸Šè®²ï¼Œå£å¤´çº¦å®šå’Œä»£ç å®¡æŸ¥éƒ½å¯ä»¥ï¼Œä½†æ˜¯è¿™ç§æ–¹å¼æ— æ³•å®æ—¶åé¦ˆï¼Œè€Œä¸”æ²Ÿé€šæˆæœ¬è¿‡é«˜ï¼Œä¸å¤Ÿçµæ´»ï¼Œæ›´å…³é”®çš„æ˜¯æ— æ³•æŠŠæ§ã€‚ä¸ä»¥è§„çŸ©ï¼Œä¸èƒ½æˆæ–¹åœ†ï¼Œæˆ‘ä»¬ä¸å¾—ä¸åœ¨é¡¹ç›®ä½¿ç”¨ä¸€äº›å·¥å…·æ¥çº¦æŸä»£ç è§„èŒƒã€‚</p>
<p>æœ¬æ–‡è®²è§£å¦‚ä½•ä½¿ç”¨ <strong>EditorConfig + Prettier + ESLint</strong> ç»„åˆæ¥å®ç°ä»£ç è§„èŒƒåŒ–ã€‚</p>
<p>è¿™æ ·åšå¸¦æ¥å¥½å¤„ï¼š</p>
<ol>
<li>è§£å†³å›¢é˜Ÿä¹‹é—´ä»£ç ä¸è§„èŒƒå¯¼è‡´çš„å¯è¯»æ€§å·®å’Œå¯ç»´æŠ¤æ€§å·®çš„é—®é¢˜ã€‚</li>
<li>è§£å†³å›¢é˜Ÿæˆå‘˜ä¸åŒç¼–è¾‘å™¨å¯¼è‡´çš„ç¼–ç è§„èŒƒä¸ç»Ÿä¸€é—®é¢˜ã€‚</li>
<li>æå‰å‘ç°ä»£ç é£æ ¼é—®é¢˜ï¼Œç»™å‡ºå¯¹åº”è§„èŒƒæç¤ºï¼ŒåŠæ—¶ä¿®å¤ã€‚</li>
<li>å‡å°‘ä»£ç å®¡æŸ¥è¿‡ç¨‹ä¸­ååå¤å¤çš„ä¿®æ”¹è¿‡ç¨‹ï¼ŒèŠ‚çº¦æ—¶é—´ã€‚</li>
<li>è‡ªåŠ¨æ ¼å¼åŒ–ï¼Œç»Ÿä¸€ç¼–ç é£æ ¼ï¼Œä»æ­¤å’Œè„ä¹±å·®çš„ä»£ç è¯´å†è§ã€‚</li>
</ol>
<h2 id="é›†æˆ-EditorConfig-é…ç½®"><a href="#é›†æˆ-EditorConfig-é…ç½®" class="headerlink" title="é›†æˆ EditorConfig é…ç½®"></a><strong>é›†æˆ EditorConfig é…ç½®</strong></h2><p>EditorConfig æœ‰åŠ©äºä¸ºä¸åŒ IDE ç¼–è¾‘å™¨ä¸Šå¤„ç†åŒä¸€é¡¹ç›®çš„å¤šä¸ªå¼€å‘äººå‘˜ç»´æŠ¤ä¸€è‡´çš„ç¼–ç é£æ ¼ã€‚</p>
<p>å®˜ç½‘ï¼š<a target="_blank" rel="noopener" href="http://editorconfig.org/">http://editorconfig.org</a></p>
<p>åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹å¢åŠ  .editorconfig æ–‡ä»¶ï¼š</p>
<pre><code class="bash"># Editor configuration, see http://editorconfig.org

# è¡¨ç¤ºæ˜¯æœ€é¡¶å±‚çš„ EditorConfig é…ç½®æ–‡ä»¶
root = true

[*] # è¡¨ç¤ºæ‰€æœ‰æ–‡ä»¶é€‚ç”¨
charset = utf-8 # è®¾ç½®æ–‡ä»¶å­—ç¬¦é›†ä¸º utf-8
indent_style = space # ç¼©è¿›é£æ ¼ï¼ˆtab | spaceï¼‰
indent_size = 2 # ç¼©è¿›å¤§å°
end_of_line = lf # æ§åˆ¶æ¢è¡Œç±»å‹(lf | cr | crlf)
trim_trailing_whitespace = true # å»é™¤è¡Œé¦–çš„ä»»æ„ç©ºç™½å­—ç¬¦
insert_final_newline = true # å§‹ç»ˆåœ¨æ–‡ä»¶æœ«å°¾æ’å…¥ä¸€ä¸ªæ–°è¡Œ

[*.md] # è¡¨ç¤ºä»… md æ–‡ä»¶é€‚ç”¨ä»¥ä¸‹è§„åˆ™
max_line_length = off
trim_trailing_whitespace = false
</code></pre>
<p>æ³¨æ„ï¼š</p>
<p>VSCode ä½¿ç”¨ EditorConfig éœ€è¦å»æ’ä»¶å¸‚åœºä¸‹è½½æ’ä»¶ <strong>EditorConfig for VS Code</strong> ã€‚</p>
<p><img src="/../images/vue3%E5%B7%A5%E4%BD%9C%E6%B5%815.webp" alt="&#39;vue3å·¥ä½œæµ5&#39;"></p>
<p>JetBrains ç³»åˆ—ï¼ˆWebStormã€IntelliJ IDEA ç­‰ï¼‰åˆ™ä¸ç”¨é¢å¤–å®‰è£…æ’ä»¶ï¼Œå¯ç›´æ¥ä½¿ç”¨ EditorConfig é…ç½®ã€‚</p>
<h2 id="é›†æˆ-Prettier-é…ç½®"><a href="#é›†æˆ-Prettier-é…ç½®" class="headerlink" title="é›†æˆ Prettier é…ç½®"></a><strong>é›†æˆ Prettier é…ç½®</strong></h2><p>Prettier æ˜¯ä¸€æ¬¾å¼ºå¤§çš„ä»£ç æ ¼å¼åŒ–å·¥å…·ï¼Œæ”¯æŒ JavaScriptã€TypeScriptã€CSSã€SCSSã€Lessã€JSXã€Angularã€Vueã€GraphQLã€JSONã€Markdown ç­‰è¯­è¨€ï¼ŒåŸºæœ¬ä¸Šå‰ç«¯èƒ½ç”¨åˆ°çš„æ–‡ä»¶æ ¼å¼å®ƒéƒ½å¯ä»¥æå®šï¼Œæ˜¯å½“ä¸‹æœ€æµè¡Œçš„ä»£ç æ ¼å¼åŒ–å·¥å…·ã€‚</p>
<p>å®˜ç½‘ï¼š<a target="_blank" rel="noopener" href="https://prettier.io/">https://prettier.io/</a></p>
<ol>
<li>å®‰è£… Prettier<pre><code>npm i prettier -D
</code></pre>
</li>
<li>åˆ›å»º Prettier é…ç½®æ–‡ä»¶</li>
</ol>
<p>Prettier æ”¯æŒå¤šç§æ ¼å¼çš„é…ç½®æ–‡ä»¶[27]ï¼Œæ¯”å¦‚ .jsonã€.ymlã€.yamlã€.jsç­‰ã€‚</p>
<p>åœ¨æœ¬é¡¹ç›®æ ¹ç›®å½•ä¸‹åˆ›å»º .prettierrc æ–‡ä»¶ã€‚</p>
<ol start="3">
<li>é…ç½® .prettierrc</li>
</ol>
<p>åœ¨æœ¬é¡¹ç›®ä¸­ï¼Œæˆ‘ä»¬è¿›è¡Œå¦‚ä¸‹ç®€å•é…ç½®ï¼Œå…³äºæ›´å¤šé…ç½®é¡¹ä¿¡æ¯ï¼Œè¯·å‰å¾€å®˜ç½‘æŸ¥çœ‹ Prettier-Options[28] ã€‚</p>
<pre><code class="json">&#123;
  &quot;useTabs&quot;: false,
  &quot;tabWidth&quot;: 2,
  &quot;printWidth&quot;: 100,
  &quot;singleQuote&quot;: true,
  &quot;trailingComma&quot;: &quot;none&quot;,
  &quot;bracketSpacing&quot;: true,
  &quot;semi&quot;: false
&#125;
</code></pre>
<p>Prettier å®‰è£…ä¸”é…ç½®å¥½ä¹‹åï¼Œå°±èƒ½ä½¿ç”¨å‘½ä»¤æ¥æ ¼å¼åŒ–ä»£ç </p>
<pre><code class="bash"># æ ¼å¼åŒ–æ‰€æœ‰æ–‡ä»¶ï¼ˆ. è¡¨ç¤ºæ‰€æœ‰æ–‡ä»¶ï¼‰
npx prettier --write .
</code></pre>
<p>æ³¨æ„ï¼š</p>
<p>VSCode ç¼–è¾‘å™¨ä½¿ç”¨ Prettier é…ç½®éœ€è¦ä¸‹è½½æ’ä»¶ <strong>Prettier - Code formatter</strong> ã€‚</p>
<p><img src="/../images/vue3%E5%B7%A5%E4%BD%9C%E6%B5%816.webp" alt="&#39;vue3å·¥ä½œæµ6&#39;"><br>JetBrains ç³»åˆ—ç¼–è¾‘å™¨ï¼ˆWebStormã€IntelliJ IDEA ç­‰ï¼‰åˆ™ä¸ç”¨é¢å¤–å®‰è£…æ’ä»¶ï¼Œå¯ç›´æ¥ä½¿ç”¨ Prettier é…ç½®ã€‚</p>
<p>Prettier é…ç½®å¥½ä»¥åï¼Œåœ¨ä½¿ç”¨ VSCode æˆ– WebStorm ç­‰ç¼–è¾‘å™¨çš„æ ¼å¼åŒ–åŠŸèƒ½æ—¶ï¼Œç¼–è¾‘å™¨å°±ä¼šæŒ‰ç…§ Prettier é…ç½®æ–‡ä»¶çš„è§„åˆ™æ¥è¿›è¡Œæ ¼å¼åŒ–ï¼Œé¿å…äº†å› ä¸ºå¤§å®¶ç¼–è¾‘å™¨é…ç½®ä¸ä¸€æ ·è€Œå¯¼è‡´æ ¼å¼åŒ–åçš„ä»£ç é£æ ¼ä¸ç»Ÿä¸€çš„é—®é¢˜ã€‚</p>
<h2 id="é›†æˆ-ESLint-é…ç½®"><a href="#é›†æˆ-ESLint-é…ç½®" class="headerlink" title="é›†æˆ ESLint é…ç½®"></a><strong>é›†æˆ ESLint é…ç½®</strong></h2><p>ESLint[29] æ˜¯ä¸€æ¬¾ç”¨äºæŸ¥æ‰¾å¹¶æŠ¥å‘Šä»£ç ä¸­é—®é¢˜çš„å·¥å…·ï¼Œå¹¶ä¸”æ”¯æŒéƒ¨åˆ†é—®é¢˜è‡ªåŠ¨ä¿®å¤ã€‚å…¶æ ¸å¿ƒæ˜¯é€šè¿‡å¯¹ä»£ç è§£æå¾—åˆ°çš„ ASTï¼ˆAbstract Syntax Tree æŠ½è±¡è¯­æ³•æ ‘ï¼‰è¿›è¡Œæ¨¡å¼åŒ¹é…ï¼Œæ¥åˆ†æä»£ç è¾¾åˆ°æ£€æŸ¥ä»£ç è´¨é‡å’Œé£æ ¼é—®é¢˜çš„èƒ½åŠ›ã€‚</p>
<p>æ­£å¦‚å‰é¢æˆ‘ä»¬æåˆ°çš„å› å›¢é˜Ÿæˆå‘˜ä¹‹é—´ç¼–ç¨‹èƒ½åŠ›å’Œç¼–ç ä¹ æƒ¯ä¸åŒæ‰€é€ æˆçš„ä»£ç è´¨é‡é—®é¢˜ï¼Œæˆ‘ä»¬ä½¿ç”¨ ESLint æ¥è§£å†³ï¼Œä¸€è¾¹å†™ä»£ç ä¸€è¾¹æŸ¥æ‰¾é—®é¢˜ï¼Œå¦‚æœå‘ç°é”™è¯¯ï¼Œå°±ç»™å‡ºè§„åˆ™æç¤ºï¼Œå¹¶ä¸”è‡ªåŠ¨ä¿®å¤ï¼Œé•¿æœŸä¸‹å»ï¼Œå¯ä»¥ä¿ƒä½¿å›¢é˜Ÿæˆå‘˜å¾€åŒä¸€ç§ç¼–ç é£æ ¼é æ‹¢ã€‚</p>
<ol>
<li>å®‰è£… ESLint</li>
</ol>
<p>å¯ä»¥å…¨å±€æˆ–è€…æœ¬åœ°å®‰è£…ï¼Œä½œè€…æ¨èæœ¬åœ°å®‰è£…ï¼ˆåªåœ¨å½“å‰é¡¹ç›®ä¸­å®‰è£…ï¼‰ã€‚</p>
<pre><code>npm i eslint -D
</code></pre>
<ol start="2">
<li>é…ç½® ESLint</li>
</ol>
<p>ESLint å®‰è£…æˆåŠŸåï¼Œæ‰§è¡Œ npx eslint â€“initï¼Œç„¶åæŒ‰ç…§ç»ˆç«¯æ“ä½œæç¤ºå®Œæˆä¸€ç³»åˆ—è®¾ç½®æ¥åˆ›å»ºé…ç½®æ–‡ä»¶ã€‚</p>
<ul>
<li><p>Airbnb JavaScript Style Guide[30]</p>
</li>
<li><p>Airbnb JavaScript é£æ ¼æŒ‡å— - ä¸­æ–‡ç‰ˆ[31]</p>
</li>
<li><p>JavaScript Standard Style[32]</p>
</li>
<li><p>JavaScript Standard Style - ä¸­æ–‡ç‰ˆ[33]</p>
</li>
<li><p>Google JavaScript Style Guide[34]</p>
</li>
</ul>
<p>How would you like to use ESLint? ï¼ˆä½ æƒ³å¦‚ä½•ä½¿ç”¨ ESLint?ï¼‰</p>
<p><img src="/../images/vue3%E5%B7%A5%E4%BD%9C%E6%B5%817.webp" alt="&#39;vue3å·¥ä½œæµ7&#39;"></p>
<p>æˆ‘ä»¬è¿™é‡Œé€‰æ‹© <strong>To check syntax, find problems, and enforce code styleï¼ˆæ£€æŸ¥è¯­æ³•ã€å‘ç°é—®é¢˜å¹¶å¼ºåˆ¶æ‰§è¡Œä»£ç é£æ ¼ï¼‰</strong></p>
<p>What type of modules does your project use?ï¼ˆä½ çš„é¡¹ç›®ä½¿ç”¨å“ªç§ç±»å‹çš„æ¨¡å—?ï¼‰</p>
<p><img src="/../images/vue3%E5%B7%A5%E4%BD%9C%E6%B5%818.webp" alt="&#39;vue3å·¥ä½œæµ8&#39;"></p>
<p>æˆ‘ä»¬è¿™é‡Œé€‰æ‹© JavaScript modules (import&#x2F;export)</p>
<p>Which framework does your project use? ï¼ˆä½ çš„é¡¹ç›®ä½¿ç”¨å“ªç§æ¡†æ¶?ï¼‰</p>
<p><img src="/../images/vue3%E5%B7%A5%E4%BD%9C%E6%B5%819.webp" alt="&#39;vue3å·¥ä½œæµ9&#39;"><br>æˆ‘ä»¬è¿™é‡Œé€‰æ‹© Vue.js</p>
<p>Does your project use TypeScript?ï¼ˆä½ çš„é¡¹ç›®æ˜¯å¦ä½¿ç”¨ TypeScriptï¼Ÿï¼‰</p>
<p><img src="/../images/vue3%E5%B7%A5%E4%BD%9C%E6%B5%8110.webp" alt="&#39;vue3å·¥ä½œæµ10&#39;"><br>æˆ‘ä»¬è¿™é‡Œé€‰æ‹© Yes</p>
<p>Where does your code run?ï¼ˆä½ çš„ä»£ç åœ¨å“ªé‡Œè¿è¡Œ?ï¼‰</p>
<p><img src="/../images/vue3%E5%B7%A5%E4%BD%9C%E6%B5%8111.webp" alt="&#39;vue3å·¥ä½œæµ11&#39;"><br>æˆ‘ä»¬è¿™é‡Œé€‰æ‹© Browser å’Œ Nodeï¼ˆæŒ‰ç©ºæ ¼é”®è¿›è¡Œé€‰æ‹©ï¼Œé€‰å®ŒæŒ‰å›è½¦é”®ç¡®å®šï¼‰</p>
<p>How would you like to define a style for your project?ï¼ˆä½ æƒ³æ€æ ·ä¸ºä½ çš„é¡¹ç›®å®šä¹‰é£æ ¼ï¼Ÿï¼‰</p>
<p><img src="/../images/vue3%E5%B7%A5%E4%BD%9C%E6%B5%8112.webp" alt="&#39;vue3å·¥ä½œæµ12&#39;"><br>æˆ‘ä»¬è¿™é‡Œé€‰æ‹© Use a popular style guideï¼ˆä½¿ç”¨ä¸€ç§æµè¡Œçš„é£æ ¼æŒ‡å—ï¼‰</p>
<p>Which style guide do you want to follow?ï¼ˆä½ æƒ³éµå¾ªå“ªä¸€ç§é£æ ¼æŒ‡å—?ï¼‰</p>
<p><img src="/../images/vue3%E5%B7%A5%E4%BD%9C%E6%B5%8113.webp" alt="&#39;vue3å·¥ä½œæµ13&#39;"><br>æˆ‘ä»¬è¿™é‡Œé€‰æ‹© Airbnb: <a target="_blank" rel="noopener" href="https://github.com/airbnb/javascript">https://github.com/airbnb/javascript</a></p>
<p>ESLint ä¸ºæˆ‘ä»¬åˆ—å‡ºäº†ä¸‰ç§ç¤¾åŒºæµè¡Œçš„ JavaScript é£æ ¼æŒ‡å—ï¼Œåˆ†åˆ«æ˜¯ Airbnbã€Standardã€Googleã€‚</p>
<p>è¿™ä¸‰ä»½é£æ ¼æŒ‡å—éƒ½æ˜¯ç”±ä¼—å¤šå¤§ä½¬æ ¹æ®å¤šå¹´å¼€å‘ç»éªŒç¼–å†™ï¼Œè¶³å¤Ÿä¼˜ç§€ï¼Œå…¨çƒå¾ˆå¤šå¤§å°å…¬å¸éƒ½åœ¨ä½¿ç”¨ã€‚æˆ‘ä»¬é€‰ç”¨ GitHub ä¸Š star æœ€å¤šçš„ Airbnbï¼Œå…å»ç¹ççš„é…ç½® ESLint è§„åˆ™æ—¶é—´ï¼Œç„¶åè®©å›¢é˜Ÿæˆå‘˜å»å­¦ä¹  Airbnb JavaScript é£æ ¼æŒ‡å—å³å¯ã€‚</p>
<p>æ­¤æ—¶ï¼Œæˆ‘ä»¬åœ¨ ESLint é…ç½®äº† Airbnb JavaScript è§„åˆ™ï¼Œåœ¨ç¼–ç æ—¶ï¼Œæ‰€æœ‰ä¸ç¬¦åˆ Airbnb é£æ ¼çš„ä»£ç ï¼Œç¼–è¾‘å™¨éƒ½ä¼šç»™å‡ºæç¤ºï¼Œå¹¶ä¸”å¯ä»¥è‡ªåŠ¨ä¿®å¤ã€‚</p>
<p><strong>è¿™é‡Œä½œè€…ä¸å»ºè®®å¤§å®¶å»è‡ªç”±é…ç½® ESLint è§„åˆ™ï¼Œç›¸ä¿¡æˆ‘ï¼Œè¿™ä¸‰ä»½ JavaScript ä»£ç é£æ ¼æŒ‡å—å€¼å¾—æˆ‘ä»¬åå¤å­¦ä¹ ï¼ŒæŒæ¡åï¼Œç¼–ç¨‹èƒ½åŠ›èƒ½ä¸Šä¸€å¤§å°é˜¶ã€‚</strong></p>
<p>What format do you want your config file to be in?ï¼ˆä½ å¸Œæœ›ä½ çš„é…ç½®æ–‡ä»¶æ˜¯ä»€ä¹ˆæ ¼å¼?ï¼‰</p>
<p><img src="/../images/vue3%E5%B7%A5%E4%BD%9C%E6%B5%8114.webp" alt="&#39;vue3å·¥ä½œæµ14&#39;"><br>æˆ‘ä»¬è¿™é‡Œé€‰æ‹© JavaScript</p>
<p>Would you like to install them now with npm?ï¼ˆä½ æƒ³ç°åœ¨å°±ç”¨ NPM å®‰è£…å®ƒä»¬å—?ï¼‰</p>
<p><img src="/../images/vue3%E5%B7%A5%E4%BD%9C%E6%B5%8115.webp" alt="&#39;vue3å·¥ä½œæµ15&#39;"><br>æ ¹æ®ä¸Šé¢çš„é€‰æ‹©ï¼ŒESLint ä¼šè‡ªåŠ¨å»æŸ¥æ‰¾ç¼ºå¤±çš„ä¾èµ–ï¼Œæˆ‘ä»¬è¿™é‡Œé€‰æ‹© Yesï¼Œä½¿ç”¨ NPM ä¸‹è½½å®‰è£…è¿™äº›ä¾èµ–åŒ…ã€‚</p>
<p>æ³¨æ„ï¼šå¦‚æœè‡ªåŠ¨å®‰è£…ä¾èµ–å¤±è´¥ï¼Œé‚£ä¹ˆéœ€è¦æ‰‹åŠ¨å®‰è£…</p>
<pre><code class="bash">npm i @typescript-eslint/eslint-plugin @typescript-eslint/parser eslint-config-airbnb-base eslint-plugin-import eslint-plugin-vue -D
</code></pre>
<ol start="3">
<li>ESLint é…ç½®æ–‡ä»¶ .eslintrc.js</li>
</ol>
<p>åœ¨ä¸Šä¸€æ­¥æ“ä½œå®Œæˆåï¼Œä¼šåœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹è‡ªåŠ¨ç”Ÿæˆ .eslintrc.js é…ç½®æ–‡ä»¶ï¼š</p>
<pre><code class="js">module.exports = &#123;
  env: &#123;
    browser: true,
    es2021: true,
    node: true,
  &#125;,
  extends: [&quot;plugin:vue/essential&quot;, &quot;airbnb-base&quot;],
  parserOptions: &#123;
    ecmaVersion: 12,
    parser: &quot;@typescript-eslint/parser&quot;,
    sourceType: &quot;module&quot;,
  &#125;,
  plugins: [&quot;vue&quot;, &quot;@typescript-eslint&quot;],
  rules: &#123;&#125;,
&#125;;
</code></pre>
<p>æ ¹æ®é¡¹ç›®å®é™…æƒ…å†µï¼Œå¦‚æœæˆ‘ä»¬æœ‰é¢å¤–çš„ ESLint è§„åˆ™ï¼Œä¹Ÿåœ¨æ­¤æ–‡ä»¶ä¸­è¿½åŠ ã€‚</p>
<p>æ³¨æ„ï¼š</p>
<p>VSCode ä½¿ç”¨ ESLint é…ç½®æ–‡ä»¶éœ€è¦å»æ’ä»¶å¸‚åœºä¸‹è½½æ’ä»¶ ESLint ã€‚</p>
<p><img src="/../images/vue3%E5%B7%A5%E4%BD%9C%E6%B5%8116.webp" alt="&#39;vue3å·¥ä½œæµ16&#39;"><br>JetBrains ç³»åˆ—ï¼ˆWebStormã€IntelliJ IDEA ç­‰ï¼‰åˆ™ä¸ç”¨é¢å¤–å®‰è£…æ’ä»¶ã€‚</p>
<p>é…ç½®å¥½ä»¥åï¼Œæˆ‘ä»¬åœ¨ VSCode æˆ– WebStorm ç­‰ç¼–è¾‘å™¨ä¸­å¼€å¯ ESLinï¼Œå†™ä»£ç æ—¶ï¼ŒESLint å°±ä¼šæŒ‰ç…§æˆ‘ä»¬é…ç½®çš„è§„åˆ™æ¥è¿›è¡Œå®æ—¶ä»£ç æ£€æŸ¥ï¼Œå‘ç°é—®é¢˜ä¼šç»™å‡ºå¯¹åº”é”™è¯¯æç¤ºå’Œä¿®å¤æ–¹æ¡ˆã€‚</p>
<p>å¦‚å›¾ï¼š</p>
<p>VSCode<br><img src="/../images/vue3%E5%B7%A5%E4%BD%9C%E6%B5%8117.webp" alt="&#39;vue3å·¥ä½œæµ17&#39;"><br>WebStorm<br><img src="/../images/vue3%E5%B7%A5%E4%BD%9C%E6%B5%8118.webp" alt="&#39;vue3å·¥ä½œæµ18&#39;"><br>è™½ç„¶ï¼Œç°åœ¨ç¼–è¾‘å™¨å·²ç»ç»™å‡ºé”™è¯¯æç¤ºå’Œä¿®å¤æ–¹æ¡ˆï¼Œä½†éœ€è¦æˆ‘ä»¬ä¸€ä¸ªä¸€ä¸ªå»ç‚¹å‡»ä¿®å¤ï¼Œè¿˜æ˜¯æŒºéº»çƒ¦çš„ã€‚å¾ˆç®€å•ï¼Œæˆ‘ä»¬åªéœ€è®¾ç½®ç¼–è¾‘å™¨ä¿å­˜æ–‡ä»¶æ—¶è‡ªåŠ¨æ‰§è¡Œ eslint â€“fix å‘½ä»¤è¿›è¡Œä»£ç é£æ ¼ä¿®å¤ã€‚</p>
<p>VSCode åœ¨ settings.json è®¾ç½®æ–‡ä»¶ä¸­ï¼Œå¢åŠ ä»¥ä¸‹ä»£ç ï¼š</p>
<pre><code class="json"> &quot;editor.codeActionsOnSave&quot;: &#123;
    &quot;source.fixAll.eslint&quot;: true
 &#125;
</code></pre>
<p>WebStorm æ‰“å¼€è®¾ç½®çª—å£ï¼ŒæŒ‰å¦‚ä¸‹æ“ä½œï¼Œæœ€åç‚¹å‡» Apply -&gt; OKã€‚<br><img src="/../images/vue3%E5%B7%A5%E4%BD%9C%E6%B5%8119.webp" alt="&#39;vue3å·¥ä½œæµ19&#39;"></p>
<h2 id="è§£å†³-Prettier-å’Œ-ESLint-çš„å†²çª"><a href="#è§£å†³-Prettier-å’Œ-ESLint-çš„å†²çª" class="headerlink" title="è§£å†³ Prettier å’Œ ESLint çš„å†²çª"></a><strong>è§£å†³ Prettier å’Œ ESLint çš„å†²çª</strong></h2><p>é€šå¸¸å¤§å®¶ä¼šåœ¨é¡¹ç›®ä¸­æ ¹æ®å®é™…æƒ…å†µæ·»åŠ ä¸€äº›é¢å¤–çš„ ESLint å’Œ Prettier é…ç½®è§„åˆ™ï¼Œéš¾å…ä¼šå­˜åœ¨è§„åˆ™å†²çªæƒ…å†µã€‚</p>
<p>æœ¬é¡¹ç›®ä¸­çš„ ESLint é…ç½®ä¸­ä½¿ç”¨äº† Airbnb JavaScript é£æ ¼æŒ‡å—æ ¡éªŒï¼Œå…¶è§„åˆ™ä¹‹ä¸€æ˜¯<strong>ä»£ç ç»“æŸåé¢è¦åŠ åˆ†å·</strong>ï¼Œè€Œæˆ‘ä»¬åœ¨ Prettier é…ç½®æ–‡ä»¶ä¸­åŠ äº†<strong>ä»£ç ç»“æŸåé¢ä¸åŠ åˆ†å·</strong>çš„é…ç½®é¡¹ï¼Œè¿™æ ·å°±æœ‰å†²çªäº†ï¼Œä¼šå‡ºç°ç”¨ Prettier æ ¼å¼åŒ–åçš„ä»£ç ï¼ŒESLint æ£€æµ‹åˆ°æ ¼å¼æœ‰é—®é¢˜çš„ï¼Œä»è€ŒæŠ›å‡ºé”™è¯¯æç¤ºã€‚</p>
<p>è§£å†³ä¸¤è€…å†²çªé—®é¢˜ï¼Œéœ€è¦ç”¨åˆ° eslint-plugin-prettier å’Œ eslint-config-prettierã€‚</p>
<blockquote>
<p>eslint-plugin-prettier å°† Prettier çš„è§„åˆ™è®¾ç½®åˆ° ESLint çš„è§„åˆ™ä¸­ã€‚</p>
</blockquote>
<blockquote>
<p>eslint-config-prettier å…³é—­ ESLint ä¸­ä¸ Prettier ä¸­ä¼šå‘ç”Ÿå†²çªçš„è§„åˆ™ã€‚</p>
</blockquote>
<p>æœ€åå½¢æˆä¼˜å…ˆçº§ï¼šPrettier é…ç½®è§„åˆ™ &gt; ESLint é…ç½®è§„åˆ™ã€‚</p>
<p>å®‰è£…æ’ä»¶</p>
<pre><code>npm i eslint-plugin-prettier eslint-config-prettier -D
</code></pre>
<p>åœ¨ .eslintrc.js æ·»åŠ  prettier æ’ä»¶</p>
<pre><code class="js">module.exports = &#123;
  ...
  extends: [
    &#39;plugin:vue/essential&#39;,
    &#39;airbnb-base&#39;,
    &#39;plugin:prettier/recommended&#39; // æ·»åŠ  prettier æ’ä»¶
  ],
  ...
&#125;
</code></pre>
<p>è¿™æ ·ï¼Œæˆ‘ä»¬åœ¨æ‰§è¡Œ eslint â€“fix å‘½ä»¤æ—¶ï¼ŒESLint å°±ä¼šæŒ‰ç…§ Prettier çš„é…ç½®è§„åˆ™æ¥æ ¼å¼åŒ–ä»£ç ï¼Œè½»æ¾è§£å†³äºŒè€…å†²çªé—®é¢˜ã€‚</p>
<h2 id="é›†æˆ-husky-å’Œ-lint-staged"><a href="#é›†æˆ-husky-å’Œ-lint-staged" class="headerlink" title="é›†æˆ husky å’Œ lint-staged"></a><strong>é›†æˆ husky å’Œ lint-staged</strong></h2><p>æˆ‘ä»¬åœ¨é¡¹ç›®ä¸­å·²é›†æˆ ESLint å’Œ Prettierï¼Œåœ¨ç¼–ç æ—¶ï¼Œè¿™äº›å·¥å…·å¯ä»¥å¯¹æˆ‘ä»¬å†™çš„ä»£ç è¿›è¡Œå®æ—¶æ ¡éªŒï¼Œåœ¨ä¸€å®šç¨‹åº¦ä¸Šèƒ½æœ‰æ•ˆè§„èŒƒæˆ‘ä»¬å†™çš„ä»£ç ï¼Œä½†å›¢é˜Ÿå¯èƒ½ä¼šæœ‰äº›äººè§‰å¾—è¿™äº›æ¡æ¡æ¡†æ¡†çš„é™åˆ¶å¾ˆéº»çƒ¦ï¼Œé€‰æ‹©è§†â€œæç¤ºâ€è€Œä¸è§ï¼Œä¾æ—§æŒ‰è‡ªå·±çš„ä¸€å¥—é£æ ¼æ¥å†™ä»£ç ï¼Œæˆ–è€…å¹²è„†ç¦ç”¨æ‰è¿™äº›å·¥å…·ï¼Œå¼€å‘å®Œæˆå°±ç›´æ¥æŠŠä»£ç æäº¤åˆ°äº†ä»“åº“ï¼Œæ—¥ç§¯æœˆç´¯ï¼ŒESLint ä¹Ÿå°±å½¢åŒè™šè®¾ã€‚</p>
<p>æ‰€ä»¥ï¼Œæˆ‘ä»¬è¿˜éœ€è¦åšä¸€äº›é™åˆ¶ï¼Œè®©æ²¡é€šè¿‡ ESLint æ£€æµ‹å’Œä¿®å¤çš„ä»£ç ç¦æ­¢æäº¤ï¼Œä»è€Œä¿è¯ä»“åº“ä»£ç éƒ½æ˜¯ç¬¦åˆè§„èŒƒçš„ã€‚</p>
<p>ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬éœ€è¦ç”¨åˆ° Git Hookï¼Œåœ¨æœ¬åœ°æ‰§è¡Œ git commit çš„æ—¶å€™ï¼Œå°±å¯¹æ‰€æäº¤çš„ä»£ç è¿›è¡Œ ESLint æ£€æµ‹å’Œä¿®å¤ï¼ˆå³æ‰§è¡Œ eslint â€“fixï¼‰ï¼Œå¦‚æœè¿™äº›ä»£ç æ²¡é€šè¿‡ ESLint è§„åˆ™æ ¡éªŒï¼Œåˆ™ç¦æ­¢æäº¤ã€‚</p>
<p>å®ç°è¿™ä¸€åŠŸèƒ½ï¼Œæˆ‘ä»¬å€ŸåŠ© husky[35] + lint-staged[36] ã€‚</p>
<blockquote>
<p>husky[37] â€”â€” Git Hook å·¥å…·ï¼Œå¯ä»¥è®¾ç½®åœ¨ git å„ä¸ªé˜¶æ®µï¼ˆpre-commitã€commit-msgã€pre-push ç­‰ï¼‰è§¦å‘æˆ‘ä»¬çš„å‘½ä»¤ã€‚<br>lint-staged[38] â€”â€” åœ¨ git æš‚å­˜çš„æ–‡ä»¶ä¸Šè¿è¡Œ lintersã€‚</p>
</blockquote>
<h2 id="é…ç½®-husky"><a href="#é…ç½®-husky" class="headerlink" title="é…ç½® husky"></a><strong>é…ç½® husky</strong></h2><p>è‡ªåŠ¨é…ç½®ï¼ˆæ¨èï¼‰</p>
<p>ä½¿ç”¨ husky-init å‘½ä»¤å¿«é€Ÿåœ¨é¡¹ç›®åˆå§‹åŒ–ä¸€ä¸ª husky é…ç½®ã€‚</p>
<pre><code>npx husky-init &amp;&amp; npm install
</code></pre>
<p>è¿™è¡Œå‘½ä»¤åšäº†å››ä»¶äº‹ï¼š</p>
<p>1.å®‰è£… husky åˆ°å¼€å‘ä¾èµ–<br><img src="/../images/vue3%E5%B7%A5%E4%BD%9C%E6%B5%8120.webp" alt="&#39;vue3å·¥ä½œæµ20&#39;"><br>2.åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹åˆ›å»º .husky ç›®å½•<br><img src="/../images/vue3%E5%B7%A5%E4%BD%9C%E6%B5%8121.webp" alt="&#39;vue3å·¥ä½œæµ21&#39;"></p>
<p>3.åœ¨ .husky ç›®å½•åˆ›å»º pre-commit hookï¼Œå¹¶åˆå§‹åŒ– pre-commit å‘½ä»¤ä¸º npm test<br><img src="/../images/vue3%E5%B7%A5%E4%BD%9C%E6%B5%8122.webp" alt="&#39;vue3å·¥ä½œæµ22&#39;"></p>
<p>4.ä¿®æ”¹ package.json çš„ scriptsï¼Œå¢åŠ  â€œprepareâ€: â€œhusky installâ€<br><img src="/../images/vue3%E5%B7%A5%E4%BD%9C%E6%B5%8123.webp" alt="&#39;vue3å·¥ä½œæµ23&#39;"></p>
<p>æ‰‹åŠ¨é…ç½®ï¼ˆä¸æ¨èï¼Œæ‡’æ˜¯ç¨‹åºå‘˜ç¬¬ä¸€ç”Ÿäº§åŠ›ï¼‰</p>
<p>åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹åˆ›å»º .husky ç›®å½•<br><img src="/../images/vue3%E5%B7%A5%E4%BD%9C%E6%B5%8124.webp" alt="&#39;vue3å·¥ä½œæµ24&#39;"></p>
<p>åœ¨ .husky ç›®å½•åˆ›å»º pre-commit hookï¼Œå¹¶åˆå§‹åŒ– pre-commit å‘½ä»¤ä¸º npm test<br><img src="/../images/vue3%E5%B7%A5%E4%BD%9C%E6%B5%8125.webp" alt="&#39;vue3å·¥ä½œæµ25&#39;"></p>
<p>å®‰è£… husky</p>
<pre><code>npm i husky -D
</code></pre>
<p>åˆ›å»º Git hooks</p>
<pre><code>npx husky install
</code></pre>
<p>è¯¥å‘½ä»¤åšäº†ä¸¤ä»¶äº‹ï¼š</p>
<p>æ‰‹åŠ¨ä¿®æ”¹ package.json çš„ scriptsï¼Œå¢åŠ  â€œprepareâ€: â€œhusky installâ€<br><img src="/../images/vue3%E5%B7%A5%E4%BD%9C%E6%B5%8126.webp" alt="&#39;vue3å·¥ä½œæµ26&#39;"></p>
<blockquote>
<p>ç‰¹åˆ«æ³¨æ„ï¼šæœ¬é¡¹ç›®ä½¿ç”¨ husky 6.x ç‰ˆæœ¬ï¼Œ6.x ç‰ˆæœ¬é…ç½®æ–¹å¼è·Ÿä¹‹å‰çš„ç‰ˆæœ¬æœ‰è¾ƒå¤§å·®å¼‚ã€‚ç›®å‰ç½‘ä¸Šå¤§éƒ¨åˆ†æœ‰å…³ husky çš„æ•™ç¨‹éƒ½æ˜¯ 6 ä»¥å‰çš„ç‰ˆæœ¬ ï¼Œè·Ÿæœ¬æ–‡æ•™ç¨‹ä¸å¤ªä¸€æ ·ï¼Œå½“å‘ç°é…ç½®æ–¹æ³•ä¸ä¸€è‡´æ—¶ï¼Œä¸€åˆ‡ä»¥ husky å®˜ç½‘[39]ä¸ºå‡†ã€‚</p>
</blockquote>
<p>åˆ°è¿™é‡Œï¼Œhusky é…ç½®å®Œæ¯•ï¼Œç°åœ¨æˆ‘ä»¬æ¥ä½¿ç”¨å®ƒï¼š</p>
<p>husky åŒ…å«å¾ˆå¤š hookï¼ˆé’©å­ï¼‰ï¼Œå¸¸ç”¨æœ‰ï¼špre-commitã€commit-msgã€pre-pushã€‚è¿™é‡Œï¼Œæˆ‘ä»¬ä½¿ç”¨ pre-commit æ¥è§¦å‘ ESLint å‘½ä»¤ã€‚</p>
<p>ä¿®æ”¹ .husky&#x2F;pre-commit hook æ–‡ä»¶çš„è§¦å‘å‘½ä»¤ï¼š</p>
<pre><code>eslint --fix ./src --ext .vue,.js,.ts
</code></pre>
<p><img src="/../images/vue3%E5%B7%A5%E4%BD%9C%E6%B5%8127.webp" alt="&#39;vue3å·¥ä½œæµ27&#39;"></p>
<p>ä¸Šé¢è¿™ä¸ª pre-commit hook æ–‡ä»¶çš„ä½œç”¨æ˜¯ï¼šå½“æˆ‘ä»¬æ‰§è¡Œ git commit -m â€œxxxâ€ æ—¶ï¼Œä¼šå…ˆå¯¹ src ç›®å½•ä¸‹æ‰€æœ‰çš„ .vueã€.jsã€.ts æ–‡ä»¶æ‰§è¡Œ eslint â€“fix å‘½ä»¤ï¼Œå¦‚æœ ESLint é€šè¿‡ï¼ŒæˆåŠŸ commitï¼Œå¦åˆ™ç»ˆæ­¢ commitã€‚</p>
<p>ä½†æ˜¯åˆå­˜åœ¨ä¸€ä¸ªé—®é¢˜ï¼šæœ‰æ—¶å€™æˆ‘ä»¬æ˜æ˜åªæ”¹åŠ¨äº†ä¸€ä¸¤ä¸ªæ–‡ä»¶ï¼Œå´è¦å¯¹æ‰€æœ‰çš„æ–‡ä»¶æ‰§è¡Œ eslint â€“fixã€‚å‡å¦‚è¿™æ˜¯ä¸€ä¸ªå†å²é¡¹ç›®ï¼Œæˆ‘ä»¬åœ¨ä¸­é€”é…ç½®äº† ESLint è§„åˆ™ï¼Œé‚£ä¹ˆåœ¨æäº¤ä»£ç æ—¶ï¼Œä¹Ÿä¼šå¯¹å…¶ä»–æœªä¿®æ”¹çš„â€œå†å²â€æ–‡ä»¶éƒ½è¿›è¡Œæ£€æŸ¥ï¼Œå¯èƒ½ä¼šé€ æˆå¤§é‡æ–‡ä»¶å‡ºç° ESLint é”™è¯¯ï¼Œæ˜¾ç„¶ä¸æ˜¯æˆ‘ä»¬æƒ³è¦çš„ç»“æœã€‚</p>
<p>æˆ‘ä»¬è¦åšåˆ°åªç”¨ ESLint ä¿®å¤è‡ªå·±æ­¤æ¬¡å†™çš„ä»£ç ï¼Œè€Œä¸å»å½±å“å…¶ä»–çš„ä»£ç ã€‚æ‰€ä»¥æˆ‘ä»¬è¿˜éœ€å€ŸåŠ©ä¸€ä¸ªç¥å¥‡çš„å·¥å…· lint-staged ã€‚</p>
<h2 id="é…ç½®-lint-staged"><a href="#é…ç½®-lint-staged" class="headerlink" title="é…ç½® lint-staged"></a><strong>é…ç½® lint-staged</strong></h2><p>lint-staged è¿™ä¸ªå·¥å…·ä¸€èˆ¬ç»“åˆ husky æ¥ä½¿ç”¨ï¼Œå®ƒå¯ä»¥è®© husky çš„ hook è§¦å‘çš„å‘½ä»¤åªä½œç”¨äº git addé‚£äº›æ–‡ä»¶ï¼ˆå³ git æš‚å­˜åŒºçš„æ–‡ä»¶ï¼‰ï¼Œè€Œä¸ä¼šå½±å“åˆ°å…¶ä»–æ–‡ä»¶ã€‚</p>
<p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬ä½¿ç”¨ lint-staged ç»§ç»­ä¼˜åŒ–é¡¹ç›®ã€‚</p>
<ol>
<li>å®‰è£… lint-staged<pre><code>npm i lint-staged -D
</code></pre>
</li>
<li>åœ¨ package.jsoné‡Œå¢åŠ  lint-staged é…ç½®é¡¹</li>
</ol>
<p><img src="/../images/vue3%E5%B7%A5%E4%BD%9C%E6%B5%8128.webp" alt="&#39;vue3å·¥ä½œæµ28&#39;"></p>
<pre><code class="json">&quot;lint-staged&quot;: &#123;
  &quot;*.&#123;vue,js,ts&#125;&quot;: &quot;eslint --fix&quot;
&#125;,
</code></pre>
<p>è¿™è¡Œå‘½ä»¤è¡¨ç¤ºï¼šåªå¯¹ git æš‚å­˜åŒºçš„ .vueã€.jsã€.ts æ–‡ä»¶æ‰§è¡Œ eslint â€“fixã€‚</p>
<ol start="3">
<li>ä¿®æ”¹ .husky&#x2F;pre-commit hook çš„è§¦å‘å‘½ä»¤ä¸ºï¼šnpx lint-staged</li>
</ol>
<p><img src="/../images/vue3%E5%B7%A5%E4%BD%9C%E6%B5%8129.webp" alt="&#39;vue3å·¥ä½œæµ29&#39;"></p>
<p>è‡³æ­¤ï¼Œhusky å’Œ lint-staged ç»„åˆé…ç½®å®Œæˆã€‚</p>
<p>ç°åœ¨æˆ‘ä»¬æäº¤ä»£ç æ—¶å°±ä¼šå˜æˆè¿™æ ·ï¼š</p>
<p>å‡å¦‚æˆ‘ä»¬ä¿®æ”¹äº† scr ç›®å½•ä¸‹çš„ test-1.jsã€test-2.ts å’Œ test-3.md æ–‡ä»¶ï¼Œç„¶å git add .&#x2F;src&#x2F;ï¼Œæœ€å git commit -m â€œtestâ€¦â€ï¼Œè¿™æ—¶å€™å°±ä¼šåªå¯¹ test-1.jsã€test-2.ts è¿™ä¸¤ä¸ªæ–‡ä»¶æ‰§è¡Œ eslint â€“fixã€‚å¦‚æœ ESLint é€šè¿‡ï¼ŒæˆåŠŸæäº¤ï¼Œå¦åˆ™ç»ˆæ­¢æäº¤ã€‚ä»è€Œä¿è¯äº†æˆ‘ä»¬æäº¤åˆ° Git ä»“åº“çš„ä»£ç éƒ½æ˜¯è§„èŒƒçš„ã€‚</p>
<p><img src="/../images/vue3%E5%B7%A5%E4%BD%9C%E6%B5%8130.webp" alt="&#39;vue3å·¥ä½œæµ30&#39;"></p>
<p>æäº¤å‰ test-1.jsã€test-2.ts<br><img src="/../images/vue3%E5%B7%A5%E4%BD%9C%E6%B5%8131.webp" alt="&#39;vue3å·¥ä½œæµ31&#39;"></p>
<p>æäº¤å test-1.jsã€test-2.ts è‡ªåŠ¨ä¿®å¤ä»£ç æ ¼å¼<br><img src="/../images/vue3%E5%B7%A5%E4%BD%9C%E6%B5%8132.webp" alt="&#39;vue3å·¥ä½œæµ32&#39;"></p>
<p>æ— è®ºå†™ä»£ç è¿˜æ˜¯åšå…¶ä»–äº‹æƒ…ï¼Œéƒ½åº”è¯¥ç”¨é•¿è¿œçš„çœ¼å…‰æ¥çœ‹ï¼Œåˆšå¼€å§‹ä½¿ç”¨ ESint çš„æ—¶å€™å¯èƒ½ä¼šæœ‰å¾ˆå¤šé—®é¢˜ï¼Œæ”¹èµ·æ¥ä¹Ÿå¾ˆè´¹æ—¶è´¹åŠ›ï¼Œåªè¦åšæŒä¸‹å»ï¼Œä»£ç è´¨é‡å’Œå¼€å‘æ•ˆç‡éƒ½ä¼šå¾—åˆ°æå‡ï¼Œå‰æœŸçš„ä»˜å‡ºéƒ½æ˜¯å€¼å¾—çš„ã€‚</p>
<p>è¿™äº›å·¥å…·å¹¶ä¸æ˜¯å¿…é¡»çš„ï¼Œæ²¡æœ‰å®ƒä»¬ä½ åŒæ ·å¯ä»¥å¯ä»¥å®ŒæˆåŠŸèƒ½å¼€å‘ï¼Œä½†æ˜¯åˆ©ç”¨å¥½è¿™äº›å·¥å…·ï¼Œä½ å¯ä»¥å†™å‡ºæ›´é«˜è´¨é‡çš„ä»£ç ã€‚ç‰¹åˆ«æ˜¯ä¸€äº›åˆšåˆšæ¥è§¦çš„äººï¼Œå¯èƒ½ä¼šè§‰å¾—éº»çƒ¦è€Œæ”¾å¼ƒä½¿ç”¨è¿™äº›å·¥å…·ï¼Œå¤±å»äº†ä¸€æ¬¡æå‡ç¼–ç¨‹èƒ½åŠ›çš„å¥½æœºä¼šã€‚</p>
<h1 id="æäº¤è§„èŒƒ"><a href="#æäº¤è§„èŒƒ" class="headerlink" title="æäº¤è§„èŒƒ"></a><strong>æäº¤è§„èŒƒ</strong></h1><p>å‰é¢æˆ‘ä»¬å·²ç»ç»Ÿä¸€ä»£ç è§„èŒƒï¼Œå¹¶ä¸”åœ¨æäº¤ä»£ç æ—¶è¿›è¡Œå¼ºçº¦æŸæ¥ä¿è¯ä»“åº“ä»£ç è´¨é‡ã€‚å¤šäººåä½œçš„é¡¹ç›®ä¸­ï¼Œåœ¨æäº¤ä»£ç è¿™ä¸ªç¯èŠ‚ï¼Œä¹Ÿå­˜åœ¨ä¸€ç§æƒ…å†µï¼šä¸èƒ½ä¿è¯æ¯ä¸ªäººå¯¹æäº¤ä¿¡æ¯çš„å‡†ç¡®æè¿°ï¼Œå› æ­¤ä¼šå‡ºç°æäº¤ä¿¡æ¯ç´Šä¹±ã€é£æ ¼ä¸ä¸€è‡´çš„æƒ…å†µã€‚</p>
<p>å¦‚æœ git commit çš„æè¿°ä¿¡æ¯ç²¾å‡†ï¼Œåœ¨åæœŸç»´æŠ¤å’Œ Bug å¤„ç†æ—¶ä¼šå˜å¾—æœ‰æ®å¯æŸ¥ï¼Œé¡¹ç›®å¼€å‘å‘¨æœŸå†…è¿˜å¯ä»¥æ ¹æ®è§„èŒƒçš„æäº¤ä¿¡æ¯å¿«é€Ÿç”Ÿæˆå¼€å‘æ—¥å¿—ï¼Œä»è€Œæ–¹ä¾¿æˆ‘ä»¬è¿½è¸ªé¡¹ç›®å’ŒæŠŠæ§è¿›åº¦ã€‚</p>
<p>è¿™é‡Œï¼Œæˆ‘ä»¬ä½¿ç”¨ç¤¾åŒºæœ€æµè¡Œã€æœ€çŸ¥åã€æœ€å—è®¤å¯çš„ Angular å›¢é˜Ÿæäº¤è§„èŒƒã€‚</p>
<p>å…ˆçœ‹çœ‹ Angular é¡¹ç›®çš„æäº¤è®°å½•[40]ï¼š</p>
<p><img src="/../images/vue3%E5%B7%A5%E4%BD%9C%E6%B5%8133.webp" alt="&#39;vue3å·¥ä½œæµ33&#39;"></p>
<p>å¦‚ä¸Šå›¾ï¼Œå¯ä»¥çœ‹å‡ºè¿™äº›æäº¤ä¿¡æ¯éƒ½æ˜¯æœ‰å›ºå®šæ ¼å¼çš„ï¼Œä¸‹é¢æˆ‘ä»¬æ¥å­¦ä¹  Angular è§„èŒƒçš„ commit message æ ¼å¼ã€‚</p>
<h2 id="commit-message-æ ¼å¼è§„èŒƒ"><a href="#commit-message-æ ¼å¼è§„èŒƒ" class="headerlink" title="commit message æ ¼å¼è§„èŒƒ"></a><strong>commit message æ ¼å¼è§„èŒƒ</strong></h2><p>commit message ç”± Headerã€Bodyã€Footer ç»„æˆã€‚</p>
<pre><code class="html">&lt;Header&gt;

&lt;Body&gt;

&lt;Footer&gt;
</code></pre>
<h3 id="Header"><a href="#Header" class="headerlink" title="Header"></a><strong>Header</strong></h3><p>Header éƒ¨åˆ†åŒ…æ‹¬ä¸‰ä¸ªå­—æ®µ typeï¼ˆå¿…éœ€ï¼‰ã€scopeï¼ˆå¯é€‰ï¼‰å’Œ subjectï¼ˆå¿…éœ€ï¼‰ã€‚</p>
<pre><code>&lt;type&gt;(&lt;scope&gt;): &lt;subject&gt;
</code></pre>
<h4 id="type"><a href="#type" class="headerlink" title="type"></a><strong>type</strong></h4><p>type ç”¨äºè¯´æ˜ commit çš„æäº¤ç±»å‹ï¼ˆå¿…é¡»æ˜¯ä»¥ä¸‹å‡ ç§ä¹‹ä¸€ï¼‰ã€‚</p>
<table>
<thead>
<tr>
<th>å€¼</th>
<th>æè¿°</th>
</tr>
</thead>
<tbody><tr>
<td>feat</td>
<td>æ–°å¢ä¸€ä¸ªåŠŸèƒ½</td>
</tr>
<tr>
<td>fix</td>
<td>ä¿®å¤ä¸€ä¸ª Bug</td>
</tr>
<tr>
<td>docs</td>
<td>æ–‡æ¡£å˜æ›´</td>
</tr>
<tr>
<td>style</td>
<td>ä»£ç æ ¼å¼ï¼ˆä¸å½±å“åŠŸèƒ½ï¼Œä¾‹å¦‚ç©ºæ ¼ã€åˆ†å·ç­‰æ ¼å¼ä¿®æ­£ï¼‰</td>
</tr>
<tr>
<td>refactor</td>
<td>ä»£ç é‡æ„</td>
</tr>
<tr>
<td>perf</td>
<td>æ”¹å–„æ€§èƒ½</td>
</tr>
<tr>
<td>test</td>
<td>æµ‹è¯•</td>
</tr>
<tr>
<td>build</td>
<td>å˜æ›´é¡¹ç›®æ„å»ºæˆ–å¤–éƒ¨ä¾èµ–ï¼ˆä¾‹å¦‚ scopes: webpackã€gulpã€npm ç­‰ï¼‰</td>
</tr>
<tr>
<td>ci</td>
<td>æ›´æ”¹æŒç»­é›†æˆè½¯ä»¶çš„é…ç½®æ–‡ä»¶å’Œ package ä¸­çš„ scripts å‘½ä»¤ï¼Œä¾‹å¦‚ scopes: Travis, Circle ç­‰</td>
</tr>
<tr>
<td>chore</td>
<td>å˜æ›´æ„å»ºæµç¨‹æˆ–è¾…åŠ©å·¥å…·</td>
</tr>
<tr>
<td>revert</td>
<td>ä»£ç å›é€€</td>
</tr>
</tbody></table>
<h4 id="scope"><a href="#scope" class="headerlink" title="scope"></a><strong>scope</strong></h4><p>scope ç”¨äºæŒ‡å®šæœ¬æ¬¡ commit å½±å“çš„èŒƒå›´ã€‚scope ä¾æ®é¡¹ç›®è€Œå®šï¼Œä¾‹å¦‚åœ¨ä¸šåŠ¡é¡¹ç›®ä¸­å¯ä»¥ä¾æ®èœå•æˆ–è€…åŠŸèƒ½æ¨¡å—åˆ’åˆ†ï¼Œå¦‚æœæ˜¯ç»„ä»¶åº“å¼€å‘ï¼Œåˆ™å¯ä»¥ä¾æ®ç»„ä»¶åˆ’åˆ†ã€‚ï¼ˆscope å¯çœç•¥ï¼‰</p>
<h4 id="subject"><a href="#subject" class="headerlink" title="subject"></a><strong>subject</strong></h4><p>subject æ˜¯æœ¬æ¬¡ commit çš„ç®€æ´æè¿°ï¼Œé•¿åº¦çº¦å®šåœ¨ 50 ä¸ªå­—ç¬¦ä»¥å†…ï¼Œé€šå¸¸éµå¾ªä»¥ä¸‹å‡ ä¸ªè§„èŒƒï¼š</p>
<p>ç”¨åŠ¨è¯å¼€å¤´ï¼Œç¬¬ä¸€äººç§°ç°åœ¨æ—¶è¡¨è¿°ï¼Œä¾‹å¦‚ï¼šchange ä»£æ›¿ changed æˆ– changes<br>ç¬¬ä¸€ä¸ªå­—æ¯å°å†™<br>ç»“å°¾ä¸åŠ å¥å·ï¼ˆ.ï¼‰</p>
<h3 id="Body"><a href="#Body" class="headerlink" title="Body"></a><strong>Body</strong></h3><p>body æ˜¯å¯¹æœ¬æ¬¡ commit çš„è¯¦ç»†æè¿°ï¼Œå¯ä»¥åˆ†æˆå¤šè¡Œã€‚ï¼ˆbody å¯çœç•¥ï¼‰</p>
<p>è·Ÿ subject ç±»ä¼¼ï¼Œç”¨åŠ¨è¯å¼€å¤´ï¼Œbody åº”è¯¥è¯´æ˜ä¿®æ”¹çš„åŸå› å’Œæ›´æ”¹å‰åçš„è¡Œä¸ºå¯¹æ¯”ã€‚</p>
<h3 id="Footer"><a href="#Footer" class="headerlink" title="Footer"></a><strong>Footer</strong></h3><p>å¦‚æœæœ¬æ¬¡æäº¤çš„ä»£ç æ˜¯çªç ´æ€§çš„å˜æ›´æˆ–å…³é—­ç¼ºé™·ï¼Œåˆ™ Footer å¿…éœ€ï¼Œå¦åˆ™å¯ä»¥çœç•¥ã€‚</p>
<h4 id="çªç ´æ€§çš„å˜æ›´"><a href="#çªç ´æ€§çš„å˜æ›´" class="headerlink" title="çªç ´æ€§çš„å˜æ›´"></a><strong>çªç ´æ€§çš„å˜æ›´</strong></h4><p>å½“å‰ä»£ç ä¸ä¸Šä¸€ä¸ªç‰ˆæœ¬æœ‰çªç ´æ€§æ”¹å˜ï¼Œåˆ™ Footer ä»¥ BREAKING CHANGE å¼€å¤´ï¼Œåé¢æ˜¯å¯¹å˜åŠ¨çš„æè¿°ã€ä»¥åŠå˜åŠ¨çš„ç†ç”±ã€‚</p>
<h4 id="å…³é—­ç¼ºé™·"><a href="#å…³é—­ç¼ºé™·" class="headerlink" title="å…³é—­ç¼ºé™·"></a><strong>å…³é—­ç¼ºé™·</strong></h4><p>å¦‚æœå½“å‰æäº¤æ˜¯é’ˆå¯¹ç‰¹å®šçš„ issueï¼Œé‚£ä¹ˆå¯ä»¥åœ¨ Footer éƒ¨åˆ†å¡«å†™éœ€è¦å…³é—­çš„å•ä¸ª issue æˆ–ä¸€ç³»åˆ— issuesã€‚</p>
<p>å‚è€ƒä¾‹å­<br>feat</p>
<pre><code class="bash">feat(browser): onUrlChange event (popstate/hashchange/polling)

Added new event to browser:
- forward popstate event if available
- forward hashchange event if popstate not available
- do polling when neither popstate nor hashchange available

Breaks $browser.onHashChange, which was removed (use onUrlChange instead)
</code></pre>
<p>fix</p>
<pre><code class="bash">fix(compile): couple of unit tests for IE9

Older IEs serialize html uppercased, but IE9 does not...
Would be better to expect case insensitive, unfortunately jasmine does
not allow to user regexps for throw expectations.

Closes #392
Breaks foo.bar api, foo.baz should be used instead
</code></pre>
<p>style</p>
<pre><code class="bash">style(location): add couple of missing semi colons
</code></pre>
<p>chore</p>
<pre><code class="bash">chore(release): v3.4.2
</code></pre>
<h3 id="è§„èŒƒ-commit-message-çš„å¥½å¤„"><a href="#è§„èŒƒ-commit-message-çš„å¥½å¤„" class="headerlink" title="è§„èŒƒ commit message çš„å¥½å¤„"></a><strong>è§„èŒƒ commit message çš„å¥½å¤„</strong></h3><p>é¦–è¡Œå°±æ˜¯ç®€æ´å®ç”¨çš„å…³é”®ä¿¡æ¯ï¼Œæ–¹ä¾¿åœ¨ git history ä¸­å¿«é€Ÿæµè§ˆã€‚<br>å…·æœ‰æ›´åŠ è¯¦ç»†çš„ body å’Œ footerï¼Œå¯ä»¥æ¸…æ™°çš„çœ‹å‡ºæŸæ¬¡æäº¤çš„ç›®çš„å’Œå½±å“ã€‚<br>å¯ä»¥é€šè¿‡ type è¿‡æ»¤å‡ºæƒ³è¦æŸ¥æ‰¾çš„ä¿¡æ¯ï¼Œä¹Ÿå¯ä»¥é€šè¿‡å…³é”®å­—å¿«é€ŸæŸ¥æ‰¾ç›¸å…³æäº¤ã€‚<br>å¯ä»¥ç›´æ¥ä» commit ç”Ÿæˆ change logã€‚</p>
<h2 id="é›†æˆ-Commitizen-å®ç°è§„èŒƒæäº¤"><a href="#é›†æˆ-Commitizen-å®ç°è§„èŒƒæäº¤" class="headerlink" title="é›†æˆ Commitizen å®ç°è§„èŒƒæäº¤"></a><strong>é›†æˆ Commitizen å®ç°è§„èŒƒæäº¤</strong></h2><p>ä¸Šé¢ä»‹ç»äº† Angular è§„èŒƒæäº¤çš„æ ¼å¼ï¼Œåˆæ¬¡æ¥è§¦çš„åŒå­¦å’‹ä¸€çœ‹å¯èƒ½ä¼šè§‰å¾—å¤æ‚ï¼Œå…¶å®ä¸ç„¶ï¼Œå¦‚æœè®©å¤§å®¶åœ¨ git commit çš„æ—¶å€™ä¸¥æ ¼æŒ‰ç…§ä¸Šé¢çš„æ ¼å¼æ¥å†™ï¼Œè‚¯å®šæ˜¯æœ‰å‹åŠ›çš„ï¼Œé¦–å…ˆå¾—è®°ä½ä¸åŒçš„ç±»å‹åˆ°åº•æ˜¯ç”¨æ¥å®šä¹‰ä»€ä¹ˆï¼Œsubject æ€ä¹ˆå†™ï¼Œbody æ€ä¹ˆå†™ï¼Œfooter è¦ä¸è¦å†™ç­‰ç­‰é—®é¢˜ï¼Œæ‡’æ‰æ˜¯ç¨‹åºå‘˜ç¬¬ä¸€ç”Ÿäº§åŠ›ï¼Œä¸ºæ­¤æˆ‘ä»¬ä½¿ç”¨ Commitizen å·¥å…·æ¥å¸®åŠ©æˆ‘ä»¬è‡ªåŠ¨ç”Ÿæˆ commit message æ ¼å¼ï¼Œä»è€Œå®ç°è§„èŒƒæäº¤ã€‚</p>
<blockquote>
<p>Commitizen æ˜¯ä¸€ä¸ªå¸®åŠ©æ’°å†™è§„èŒƒ commit message çš„å·¥å…·ã€‚å®ƒæœ‰ä¸€ä¸ªå‘½ä»¤è¡Œå·¥å…· cz-cliã€‚</p>
</blockquote>
<h3 id="å®‰è£…-Commitizen"><a href="#å®‰è£…-Commitizen" class="headerlink" title="å®‰è£… Commitizen"></a><strong>å®‰è£… Commitizen</strong></h3><pre><code>npm install commitizen -D
</code></pre>
<h3 id="åˆå§‹åŒ–é¡¹ç›®"><a href="#åˆå§‹åŒ–é¡¹ç›®" class="headerlink" title="åˆå§‹åŒ–é¡¹ç›®"></a><strong>åˆå§‹åŒ–é¡¹ç›®</strong></h3><p>æˆåŠŸå®‰è£… Commitizen åï¼Œæˆ‘ä»¬ç”¨ cz-conventional-changelog é€‚é…å™¨æ¥åˆå§‹åŒ–é¡¹ç›®ï¼š</p>
<pre><code>npx commitizen init cz-conventional-changelog --save-dev --save-exact
</code></pre>
<p>è¿™è¡Œå‘½ä»¤åšäº†ä¸¤ä»¶äº‹ï¼š</p>
<p>å®‰è£… cz-conventional-changelog åˆ°å¼€å‘ä¾èµ–ï¼ˆdevDependenciesï¼‰<br>åœ¨ package.json ä¸­å¢åŠ äº† config.commitizen</p>
<pre><code class="json">&quot;config&quot;: &#123;
  &quot;commitizen&quot;: &#123;
    &quot;path&quot;: &quot;./node_modules/cz-conventional-changelog&quot;
  &#125;
&#125;
</code></pre>
<p><img src="/../images/vue3%E5%B7%A5%E4%BD%9C%E6%B5%8134.webp" alt="&#39;vue3å·¥ä½œæµ34â€˜"></p>
<h4 id="ä½¿ç”¨-Commitizen"><a href="#ä½¿ç”¨-Commitizen" class="headerlink" title="ä½¿ç”¨ Commitizen"></a><strong>ä½¿ç”¨ Commitizen</strong></h4><p>ä»¥å‰æˆ‘ä»¬æäº¤ä»£ç éƒ½æ˜¯ git commit -m â€œxxxâ€ï¼Œç°åœ¨æ”¹ä¸º git czï¼Œç„¶åæŒ‰ç…§ç»ˆç«¯æ“ä½œæç¤ºï¼Œé€æ­¥å¡«å…¥ä¿¡æ¯ï¼Œå°±èƒ½è‡ªåŠ¨ç”Ÿæˆè§„èŒƒçš„ commit messageã€‚</p>
<p><img src="/../images/vue3%E5%B7%A5%E4%BD%9C%E6%B5%8135.webp" alt="&#39;vue3å·¥ä½œæµ35â€˜"><br><img src="/../images/vue3%E5%B7%A5%E4%BD%9C%E6%B5%8136.webp" alt="&#39;vue3å·¥ä½œæµ36â€˜"></p>
<p>æœ€åï¼Œåœ¨ Git æäº¤å†å²ä¸­å°±èƒ½çœ‹åˆ°åˆšåˆšè§„èŒƒçš„æäº¤è®°å½•äº†ï¼š</p>
<h4 id="è‡ªå®šä¹‰é…ç½®æäº¤è¯´æ˜"><a href="#è‡ªå®šä¹‰é…ç½®æäº¤è¯´æ˜" class="headerlink" title="è‡ªå®šä¹‰é…ç½®æäº¤è¯´æ˜"></a><strong>è‡ªå®šä¹‰é…ç½®æäº¤è¯´æ˜</strong></h4><p>ä»ä¸Šé¢çš„æˆªå›¾å¯ä»¥çœ‹åˆ°ï¼Œgit cz ç»ˆç«¯æ“ä½œæç¤ºéƒ½æ˜¯è‹±æ–‡çš„ï¼Œå¦‚æœæƒ³æ”¹æˆä¸­æ–‡çš„æˆ–è€…è‡ªå®šä¹‰è¿™äº›é…ç½®é€‰é¡¹ï¼Œæˆ‘ä»¬ä½¿ç”¨ cz-customizable é€‚é…å™¨ã€‚</p>
<p><strong>cz-customizable åˆå§‹åŒ–é¡¹ç›®</strong><br>è¿è¡Œå¦‚ä¸‹å‘½ä»¤ä½¿ç”¨ cz-customizable åˆå§‹åŒ–é¡¹ç›®ï¼Œæ³¨æ„ä¹‹å‰å·²ç»åˆå§‹åŒ–è¿‡ä¸€æ¬¡ï¼Œè¿™æ¬¡å†åˆå§‹åŒ–ï¼Œéœ€è¦åŠ  â€“force è¦†ç›–ã€‚</p>
<pre><code>npx commitizen init cz-customizable --save-dev --save-exact --force
</code></pre>
<p>è¿™è¡Œå‘½ä»¤åšäº†ä¸¤ä»¶äº‹ï¼š</p>
<p>å®‰è£… cz-customizable åˆ°å¼€å‘ä¾èµ–ï¼ˆdevDependenciesï¼‰</p>
<pre><code class="json">&quot;devDependencies&quot;: &#123;
  ...
  &quot;cz-customizable&quot;: &quot;^6.3.0&quot;,
  ...
&#125;,
</code></pre>
<p>ä¿®æ”¹ package.json ä¸­çš„ config.commitizen å­—æ®µä¸ºï¼š</p>
<pre><code class="json">&quot;config&quot;: &#123;
  &quot;commitizen&quot;: &#123;
    &quot;path&quot;: &quot;./node_modules/cz-customizable&quot;
  &#125;
&#125;
</code></pre>
<p><strong>ä½¿ç”¨ cz-customizable</strong><br>åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹åˆ›å»º .cz-config.js æ–‡ä»¶ï¼Œç„¶åæŒ‰ç…§å®˜æ–¹æä¾›çš„ç¤ºä¾‹[41]æ¥é…ç½®ã€‚</p>
<p>åœ¨æœ¬é¡¹ç›®ä¸­æˆ‘ä»¬ä¿®æ”¹æˆä¸­æ–‡ï¼š</p>
<pre><code class="js">module.exports = &#123;
  // type ç±»å‹ï¼ˆå®šä¹‰ä¹‹åï¼Œå¯é€šè¿‡ä¸Šä¸‹é”®é€‰æ‹©ï¼‰
  types: [
    &#123; value: &#39;feat&#39;, name: &#39;feat:     æ–°å¢åŠŸèƒ½&#39; &#125;,
    &#123; value: &#39;fix&#39;, name: &#39;fix:      ä¿®å¤ bug&#39; &#125;,
    &#123; value: &#39;docs&#39;, name: &#39;docs:     æ–‡æ¡£å˜æ›´&#39; &#125;,
    &#123; value: &#39;style&#39;, name: &#39;style:    ä»£ç æ ¼å¼ï¼ˆä¸å½±å“åŠŸèƒ½ï¼Œä¾‹å¦‚ç©ºæ ¼ã€åˆ†å·ç­‰æ ¼å¼ä¿®æ­£ï¼‰&#39; &#125;,
    &#123; value: &#39;refactor&#39;, name: &#39;refactor: ä»£ç é‡æ„ï¼ˆä¸åŒ…æ‹¬ bug ä¿®å¤ã€åŠŸèƒ½æ–°å¢ï¼‰&#39; &#125;,
    &#123; value: &#39;perf&#39;, name: &#39;perf:     æ€§èƒ½ä¼˜åŒ–&#39; &#125;,
    &#123; value: &#39;test&#39;, name: &#39;test:     æ·»åŠ ã€ä¿®æ”¹æµ‹è¯•ç”¨ä¾‹&#39; &#125;,
    &#123; value: &#39;build&#39;, name: &#39;build:    æ„å»ºæµç¨‹ã€å¤–éƒ¨ä¾èµ–å˜æ›´ï¼ˆå¦‚å‡çº§ npm åŒ…ã€ä¿®æ”¹ webpack é…ç½®ç­‰ï¼‰&#39; &#125;,
    &#123; value: &#39;ci&#39;, name: &#39;ci:       ä¿®æ”¹ CI é…ç½®ã€è„šæœ¬&#39; &#125;,
    &#123; value: &#39;chore&#39;, name: &#39;chore:    å¯¹æ„å»ºè¿‡ç¨‹æˆ–è¾…åŠ©å·¥å…·å’Œåº“çš„æ›´æ”¹ï¼ˆä¸å½±å“æºæ–‡ä»¶ã€æµ‹è¯•ç”¨ä¾‹ï¼‰&#39; &#125;,
    &#123; value: &#39;revert&#39;, name: &#39;revert:   å›æ»š commit&#39; &#125;
  ],

  // scope ç±»å‹ï¼ˆå®šä¹‰ä¹‹åï¼Œå¯é€šè¿‡ä¸Šä¸‹é”®é€‰æ‹©ï¼‰
  scopes: [
    [&#39;components&#39;, &#39;ç»„ä»¶ç›¸å…³&#39;],
    [&#39;hooks&#39;, &#39;hook ç›¸å…³&#39;],
    [&#39;utils&#39;, &#39;utils ç›¸å…³&#39;],
    [&#39;element-ui&#39;, &#39;å¯¹ element-ui çš„è°ƒæ•´&#39;],
    [&#39;styles&#39;, &#39;æ ·å¼ç›¸å…³&#39;],
    [&#39;deps&#39;, &#39;é¡¹ç›®ä¾èµ–&#39;],
    [&#39;auth&#39;, &#39;å¯¹ auth ä¿®æ”¹&#39;],
    [&#39;other&#39;, &#39;å…¶ä»–ä¿®æ”¹&#39;],
    // å¦‚æœé€‰æ‹© customï¼Œåé¢ä¼šè®©ä½ å†è¾“å…¥ä¸€ä¸ªè‡ªå®šä¹‰çš„ scopeã€‚ä¹Ÿå¯ä»¥ä¸è®¾ç½®æ­¤é¡¹ï¼ŒæŠŠåé¢çš„ allowCustomScopes è®¾ç½®ä¸º true
    [&#39;custom&#39;, &#39;ä»¥ä¸Šéƒ½ä¸æ˜¯ï¼Ÿæˆ‘è¦è‡ªå®šä¹‰&#39;]
  ].map(([value, description]) =&gt; &#123;
    return &#123;
      value,
      name: `$&#123;value.padEnd(30)&#125; ($&#123;description&#125;)`
    &#125;
  &#125;),

  // æ˜¯å¦å…è®¸è‡ªå®šä¹‰å¡«å†™ scopeï¼Œåœ¨ scope é€‰æ‹©çš„æ—¶å€™ï¼Œä¼šæœ‰ empty å’Œ custom å¯ä»¥é€‰æ‹©ã€‚
  // allowCustomScopes: true,

  // allowTicketNumber: false,
  // isTicketNumberRequired: false,
  // ticketNumberPrefix: &#39;TICKET-&#39;,
  // ticketNumberRegExp: &#39;\\d&#123;1,5&#125;&#39;,


  // é’ˆå¯¹æ¯ä¸€ä¸ª type å»å®šä¹‰å¯¹åº”çš„ scopesï¼Œä¾‹å¦‚ fix
  /*
  scopeOverrides: &#123;
    fix: [
      &#123; name: &#39;merge&#39; &#125;,
      &#123; name: &#39;style&#39; &#125;,
      &#123; name: &#39;e2eTest&#39; &#125;,
      &#123; name: &#39;unitTest&#39; &#125;
    ]
  &#125;,
  */

  // äº¤äº’æç¤ºä¿¡æ¯
  messages: &#123;
    type: &#39;ç¡®ä¿æœ¬æ¬¡æäº¤éµå¾ª Angular è§„èŒƒï¼\né€‰æ‹©ä½ è¦æäº¤çš„ç±»å‹ï¼š&#39;,
    scope: &#39;\né€‰æ‹©ä¸€ä¸ª scopeï¼ˆå¯é€‰ï¼‰ï¼š&#39;,
    // é€‰æ‹© scope: custom æ—¶ä¼šå‡ºä¸‹é¢çš„æç¤º
    customScope: &#39;è¯·è¾“å…¥è‡ªå®šä¹‰çš„ scopeï¼š&#39;,
    subject: &#39;å¡«å†™ç®€çŸ­ç²¾ç‚¼çš„å˜æ›´æè¿°ï¼š\n&#39;,
    body:
      &#39;å¡«å†™æ›´åŠ è¯¦ç»†çš„å˜æ›´æè¿°ï¼ˆå¯é€‰ï¼‰ã€‚ä½¿ç”¨ &quot;|&quot; æ¢è¡Œï¼š\n&#39;,
    breaking: &#39;åˆ—ä¸¾éå…¼å®¹æ€§é‡å¤§çš„å˜æ›´ï¼ˆå¯é€‰ï¼‰ï¼š\n&#39;,
    footer: &#39;åˆ—ä¸¾å‡ºæ‰€æœ‰å˜æ›´çš„ ISSUES CLOSEDï¼ˆå¯é€‰ï¼‰ã€‚ ä¾‹å¦‚: #31, #34ï¼š\n&#39;,
    confirmCommit: &#39;ç¡®è®¤æäº¤ï¼Ÿ&#39;
  &#125;,

  // è®¾ç½®åªæœ‰ type é€‰æ‹©äº† feat æˆ– fixï¼Œæ‰è¯¢é—® breaking message
  allowBreakingChanges: [&#39;feat&#39;, &#39;fix&#39;],

  // è·³è¿‡è¦è¯¢é—®çš„æ­¥éª¤
  // skipQuestions: [&#39;body&#39;, &#39;footer&#39;],

  // subject é™åˆ¶é•¿åº¦
  subjectLimit: 100
  breaklineChar: &#39;|&#39;, // æ”¯æŒ body å’Œ footer
  // footerPrefix : &#39;ISSUES CLOSED:&#39;
  // askForBreakingChangeFirst : true,
&#125;
</code></pre>
<p>å»ºè®®å¤§å®¶ç»“åˆé¡¹ç›®å®é™…æƒ…å†µæ¥è‡ªå®šä¹‰é…ç½®æäº¤è§„åˆ™ï¼Œä¾‹å¦‚å¾ˆå¤šæ—¶å€™æˆ‘ä»¬ä¸éœ€è¦å†™é•¿æè¿°ï¼Œå…¬å¸å†…éƒ¨çš„ä»£ç ä»“åº“ä¹Ÿä¸éœ€è¦ç®¡ç† issueï¼Œé‚£ä¹ˆå¯ä»¥æŠŠè¯¢é—® body å’Œ footer çš„æ­¥éª¤è·³è¿‡ï¼ˆåœ¨ .cz-config.js ä¸­ä¿®æ”¹æˆ skipQuestions: [â€˜bodyâ€™, â€˜footerâ€™]ï¼‰ã€‚</p>
<p><img src="/../images/vue3%E5%B7%A5%E4%BD%9C%E6%B5%8137.webp" alt="&#39;vue3å·¥ä½œæµ37â€˜"></p>
<h2 id="é›†æˆ-commitlint-éªŒè¯æäº¤è§„èŒƒ"><a href="#é›†æˆ-commitlint-éªŒè¯æäº¤è§„èŒƒ" class="headerlink" title="é›†æˆ commitlint éªŒè¯æäº¤è§„èŒƒ"></a><strong>é›†æˆ commitlint éªŒè¯æäº¤è§„èŒƒ</strong></h2><p>åœ¨â€œä»£ç è§„èŒƒâ€ç« èŠ‚ï¼Œæˆ‘ä»¬å·²ç»è®²åˆ°è¿‡ï¼Œå°½ç®¡åˆ¶å®šäº†è§„èŒƒï¼Œä½†åœ¨å¤šäººåä½œçš„é¡¹ç›®ä¸­ï¼Œæ€»æœ‰äº›äººä¾æ—§æˆ‘è¡Œæˆ‘ç´ ï¼Œå› æ­¤æäº¤ä»£ç è¿™ä¸ªç¯èŠ‚ï¼Œæˆ‘ä»¬ä¹Ÿå¢åŠ ä¸€ä¸ªé™åˆ¶ï¼šåªè®©ç¬¦åˆ Angular è§„èŒƒçš„ commit message é€šè¿‡ï¼Œæˆ‘ä»¬å€ŸåŠ© @commitlint&#x2F;config-conventional å’Œ @commitlint&#x2F;cli æ¥å®ç°ã€‚</p>
<p><strong>å®‰è£… commitlint</strong><br>å®‰è£… @commitlint&#x2F;config-conventional å’Œ @commitlint&#x2F;cli</p>
<pre><code>npm i @commitlint/config-conventional @commitlint/cli -D
</code></pre>
<p><strong>é…ç½® commitlint</strong><br>åˆ›å»º commitlint.config.js æ–‡ä»¶ åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹åˆ›å»º commitlint.config.js æ–‡ä»¶ï¼Œå¹¶å¡«å…¥ä»¥ä¸‹å†…å®¹ï¼š</p>
<pre><code>module.exports = &#123; extends: [&quot;@commitlint/config-conventional&quot;] &#125;;
</code></pre>
<p>æˆ–ç›´æ¥ä½¿ç”¨å¿«æ·å‘½ä»¤ï¼š</p>
<pre><code>echo &quot;module.exports = &#123;extends: [&#39;@commitlint/config-conventional&#39;]&#125;&quot; &gt; commitlint.config.js
</code></pre>
<p>ä½¿ç”¨ husky çš„ commit-msg hook è§¦å‘éªŒè¯æäº¤ä¿¡æ¯çš„å‘½ä»¤<br>æˆ‘ä»¬ä½¿ç”¨ husky å‘½ä»¤åœ¨ .husky ç›®å½•ä¸‹åˆ›å»º commit-msg æ–‡ä»¶ï¼Œå¹¶åœ¨æ­¤æ‰§è¡Œ commit message çš„éªŒè¯å‘½ä»¤ã€‚</p>
<pre><code>npx husky add .husky/commit-msg &quot;npx --no-install commitlint --edit $1&quot;
</code></pre>
<p><img src="/../images/vue3%E5%B7%A5%E4%BD%9C%E6%B5%8138.webp" alt="&#39;vue3å·¥ä½œæµ38â€˜"></p>
<p><strong>commitlint éªŒè¯</strong><br>ä¸ç¬¦åˆè§„èŒƒçš„æäº¤ä¿¡æ¯<br>å¦‚ä¸‹å›¾ï¼Œæäº¤ä¿¡æ¯ test commitlint ä¸ç¬¦åˆè§„èŒƒï¼Œæäº¤å¤±è´¥ã€‚<br><img src="/../images/vue3%E5%B7%A5%E4%BD%9C%E6%B5%8139.webp" alt="&#39;vue3å·¥ä½œæµ39â€˜"></p>
<p>ç¬¦åˆè§„èŒƒçš„æäº¤ä¿¡æ¯<br>å¦‚ä¸‹å›¾ï¼Œæäº¤ä¿¡æ¯ test: commitlint test ç¬¦åˆè§„èŒƒï¼ŒæˆåŠŸæäº¤åˆ°ä»“åº“ã€‚<br><img src="/../images/vue3%E5%B7%A5%E4%BD%9C%E6%B5%8140.webp" alt="&#39;vue3å·¥ä½œæµ40â€˜"></p>
<p>å› ä¸ºå·²åœ¨é¡¹ç›®ä¸­é›†æˆ commitizenï¼Œå»ºè®®å¤§å®¶ç”¨ git cz æ¥ä»£æ›¿ git commit æäº¤ä»£ç ï¼Œå¯ä»¥ä¿è¯æäº¤ä¿¡æ¯è§„èŒƒã€‚</p>
<h1 id="å•å…ƒæµ‹è¯•"><a href="#å•å…ƒæµ‹è¯•" class="headerlink" title="å•å…ƒæµ‹è¯•"></a><strong>å•å…ƒæµ‹è¯•</strong></h1><p>å•å…ƒæµ‹è¯•æ˜¯é¡¹ç›®å¼€å‘ä¸­ä¸€ä¸ªéå¸¸é‡è¦çš„ç¯èŠ‚ï¼Œå®Œæ•´çš„æµ‹è¯•èƒ½ä¸ºä»£ç å’Œä¸šåŠ¡æä¾›è´¨é‡ä¿è¯ï¼Œå‡å°‘ Bug çš„å‡ºç°ã€‚</p>
<p>æœ¬ç« èŠ‚å°†å¸¦é¢†å¤§å®¶åœ¨ Vite + Vue3 + TypeScript çš„é¡¹ç›®ä¸­é›†æˆå•å…ƒæµ‹è¯•å·¥å…·ã€‚</p>
<h2 id="å®‰è£…æ ¸å¿ƒä¾èµ–"><a href="#å®‰è£…æ ¸å¿ƒä¾èµ–" class="headerlink" title="å®‰è£…æ ¸å¿ƒä¾èµ–"></a><strong>å®‰è£…æ ¸å¿ƒä¾èµ–</strong></h2><p>æˆ‘ä»¬ä½¿ç”¨ Vue å®˜æ–¹æä¾›çš„ vue-test-utils å’Œç¤¾åŒºæµè¡Œçš„æµ‹è¯•å·¥å…· jest æ¥è¿›è¡Œ Vue ç»„ä»¶çš„å•å…ƒæµ‹è¯•ã€‚</p>
<ul>
<li><strong>vue-test-utils</strong>[42] The next iteration of Vue Test Utils. It targets Vue 3.</li>
<li><strong>jest</strong>[43] Delightful JavaScript Testing.</li>
<li><strong>vue-jest</strong>[44] Jest Vue transformer</li>
<li><strong>ts-jest</strong>[45] A Jest transformer with source map support that lets you use Jest to test projects written in TypeScript.</li>
</ul>
<p>å®‰è£…è¿™äº›å·¥å…·ä¸ºå¼€å‘ä¾èµ–ï¼ˆdevDependenciesï¼‰ï¼š</p>
<pre><code>npm i @vue/test-utils@next jest vue-jest@next ts-jest -D
</code></pre>
<h2 id="åˆ›å»º-jest-é…ç½®æ–‡ä»¶"><a href="#åˆ›å»º-jest-é…ç½®æ–‡ä»¶" class="headerlink" title="åˆ›å»º jest é…ç½®æ–‡ä»¶"></a><strong>åˆ›å»º jest é…ç½®æ–‡ä»¶</strong></h2><p>åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹æ–°å»º jest.config.js æ–‡ä»¶ï¼š</p>
<pre><code class="js">module.exports = &#123;
  moduleFileExtensions: [&quot;vue&quot;, &quot;js&quot;, &quot;ts&quot;],
  preset: &quot;ts-jest&quot;,
  testEnvironment: &quot;jsdom&quot;,
  transform: &#123;
    &quot;^.+\\.vue$&quot;: &quot;vue-jest&quot;, // vue æ–‡ä»¶ç”¨ vue-jest è½¬æ¢
    &quot;^.+\\.ts$&quot;: &quot;ts-jest&quot;, // ts æ–‡ä»¶ç”¨ ts-jest è½¬æ¢
  &#125;,
  // åŒ¹é… __tests__ ç›®å½•ä¸‹çš„ .js/.ts æ–‡ä»¶ æˆ–å…¶ä»–ç›®å½•ä¸‹çš„ xx.test.js/ts xx.spec.js/ts
  testRegex: &quot;(/__tests__/.*|(\\.|/)(test|spec))\\.(ts)$&quot;,
&#125;;
</code></pre>
<h2 id="åˆ›å»ºå•å…ƒæµ‹è¯•æ–‡ä»¶"><a href="#åˆ›å»ºå•å…ƒæµ‹è¯•æ–‡ä»¶" class="headerlink" title="åˆ›å»ºå•å…ƒæµ‹è¯•æ–‡ä»¶"></a><strong>åˆ›å»ºå•å…ƒæµ‹è¯•æ–‡ä»¶</strong></h2><p>åœ¨ä¸Šé¢çš„ jest.config.js æ–‡ä»¶ä¸­ï¼Œæˆ‘ä»¬é…ç½®åªåŒ¹é… <strong>tests</strong> ç›®å½•ä¸‹çš„ä»»æ„ .ts æ–‡ä»¶æˆ–å…¶ä»–ç›®å½•ä¸‹çš„ xx.test.ts&#x2F;xx.spec.ts æ–‡ä»¶è¿›è¡Œå•å…ƒæµ‹è¯•ã€‚</p>
<p>è¿™é‡Œï¼Œæˆ‘ä»¬åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹åˆ›å»º tests ç›®å½•æ¥å­˜å‚¨å•å…ƒæµ‹è¯•æ–‡ä»¶</p>
<pre><code>â”œâ”€â”€ src/
â””â”€â”€ tests/                           // å•å…ƒæµ‹è¯•ç›®å½•
    â”œâ”€â”€ Test.spec.ts                 // Test ç»„ä»¶æµ‹è¯•
</code></pre>
<p>Test.vue</p>
<pre><code class="html">&lt;template&gt;
  &lt;div class=&quot;test-container page-container&quot;&gt;
    &lt;div class=&quot;page-title&quot;&gt;Unit Test Page&lt;/div&gt;
    &lt;p&gt;count is: &#123;&#123; count &#125;&#125;&lt;/p&gt;
    &lt;button @click=&quot;increment&quot;&gt;increment&lt;/button&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script lang=&quot;ts&quot;&gt;
  import &#123; defineComponent, ref &#125; from &quot;vue&quot;;

  export default defineComponent(&#123;
    name: &quot;Vuex&quot;,
    setup() &#123;
      const count = ref&lt;number&gt;(0);
      const increment = () =&gt; &#123;
        count.value += 1;
      &#125;;
      return &#123; count, increment &#125;;
    &#125;,
  &#125;);
&lt;/script&gt;
</code></pre>
<p>Test.spec.ts</p>
<pre><code class="ts">import &#123; mount &#125; from &quot;@vue/test-utils&quot;;
import Test from &quot;../src/views/Test.vue&quot;;

test(&quot;Test.vue&quot;, async () =&gt; &#123;
  const wrapper = mount(Test);
  expect(wrapper.html()).toContain(&quot;Unit Test Page&quot;);
  expect(wrapper.html()).toContain(&quot;count is: 0&quot;);
  await wrapper.find(&quot;button&quot;).trigger(&quot;click&quot;);
  expect(wrapper.html()).toContain(&quot;count is: 1&quot;);
&#125;);
</code></pre>
<p>é›†æˆ @types&#x2F;jest</p>
<p><img src="/../images/vue3%E5%B7%A5%E4%BD%9C%E6%B5%8141.webp" alt="&#39;vue3å·¥ä½œæµ41â€˜"></p>
<p>å¦‚ä¸Šå›¾ï¼Œæˆ‘ä»¬ä½¿ç”¨ VSCode &#x2F; WebStrom &#x2F; IDEA ç­‰ç¼–è¾‘å™¨æ—¶ï¼Œåœ¨å•å…ƒæµ‹è¯•æ–‡ä»¶ä¸­ï¼ŒIDE ä¼šæç¤ºæŸäº›æ–¹æ³•ä¸å­˜åœ¨ï¼ˆå¦‚ testã€describeã€itã€expectç­‰ï¼‰ï¼Œå®‰è£… @types&#x2F;jest å³å¯è§£å†³ã€‚</p>
<pre><code>npm i @types/jest -D
</code></pre>
<p>TypeScript çš„ç¼–è¯‘å™¨ä¹Ÿä¼šæç¤º jest çš„æ–¹æ³•å’Œç±»å‹æ‰¾ä¸åˆ°ï¼Œæˆ‘ä»¬è¿˜éœ€æŠŠ @types&#x2F;jest æ·»åŠ æ ¹ç›®å½•ä¸‹çš„ ts.config.jsonï¼ˆTypeScript é…ç½®æ–‡ä»¶ï¼‰ä¸­ï¼š</p>
<pre><code class="json">&#123;
  &quot;compilerOptions&quot;: &#123;
    ...
    &quot;types&quot;: [&quot;vite/client&quot;, &quot;jest&quot;]
  &#125;,
&#125;
</code></pre>
<h2 id="æ·»åŠ -eslint-plugin-jest"><a href="#æ·»åŠ -eslint-plugin-jest" class="headerlink" title="æ·»åŠ  eslint-plugin-jest"></a><strong>æ·»åŠ  eslint-plugin-jest</strong></h2><p><img src="/../images/vue3%E5%B7%A5%E4%BD%9C%E6%B5%8142.webp" alt="&#39;vue3å·¥ä½œæµ42â€˜"></p>
<p>å› ä¸ºæˆ‘ä»¬åœ¨é¡¹ç›®ä¸­é›†æˆäº† ESLintï¼Œå¦‚ä¸Šå›¾å¾ˆæ˜æ˜¾æ˜¯æ²¡é€šè¿‡ ESLint è§„åˆ™æ£€éªŒã€‚å› æ­¤ï¼Œæˆ‘ä»¬è¿˜éœ€è¦åœ¨ ESLint ä¸­å¢åŠ  eslint-plugin-jest æ’ä»¶æ¥è§£é™¤å¯¹ jest çš„æ ¡éªŒã€‚</p>
<p>å®‰è£… eslint-plugin-jest</p>
<pre><code>npm i eslint-plugin-jest -D
</code></pre>
<p>æ·»åŠ  eslint-plugin-jest åˆ° ESLint é…ç½®æ–‡ä»¶ .eslintrc.js ä¸­</p>
<pre><code class="js">module.exports = &#123;
  ...
  extends: [
    ...
    &#39;plugin:jest/recommended&#39;
  ],
  ...
&#125;
</code></pre>
<p>ç°åœ¨ï¼Œæˆ‘ä»¬çš„å•å…ƒæµ‹è¯•ä»£ç å°±ä¸ä¼šæœ‰é”™è¯¯æç¤ºä¿¡æ¯äº† ØØâ˜á–— ä¹› â—¡ ä¹› á–˜â˜ØØ</p>
<p><img src="/../images/vue3%E5%B7%A5%E4%BD%9C%E6%B5%8143.webp" alt="&#39;vue3å·¥ä½œæµ43â€˜"></p>
<h2 id="æ‰§è¡Œå•å…ƒæµ‹è¯•"><a href="#æ‰§è¡Œå•å…ƒæµ‹è¯•" class="headerlink" title="æ‰§è¡Œå•å…ƒæµ‹è¯•"></a><strong>æ‰§è¡Œå•å…ƒæµ‹è¯•</strong></h2><p>åœ¨æ ¹ç›®å½•ä¸‹ package.json æ–‡ä»¶çš„ scripts ä¸­ï¼Œæ·»åŠ ä¸€æ¡å•å…ƒæµ‹è¯•å‘½ä»¤ï¼šâ€testâ€: â€œjestâ€ã€‚</p>
<p><img src="/../images/vue3%E5%B7%A5%E4%BD%9C%E6%B5%8147.webp" alt="&#39;vue3å·¥ä½œæµ47â€˜"></p>
<p>æ‰§è¡Œå‘½ä»¤ npm run test å³å¯è¿›è¡Œå•å…ƒæµ‹è¯•ï¼Œjest ä¼šæ ¹æ® jest.config.js é…ç½®æ–‡ä»¶å»æŸ¥æ‰¾ <strong>tests</strong> ç›®å½•ä¸‹çš„ .ts æ–‡ä»¶æˆ–å…¶ä»–ä»»æ„ç›®å½•ä¸‹çš„ .spec.ts å’Œ .test.ts æ–‡ä»¶ï¼Œç„¶åæ‰§è¡Œå•å…ƒæµ‹è¯•æ–¹æ³•ã€‚</p>
<blockquote>
<p>ä½ å¯ä»¥åœ¨ jest.config.js é…ç½®æ–‡ä»¶ä¸­ï¼Œè‡ªç”±é…ç½®å•å…ƒæµ‹è¯•æ–‡ä»¶çš„ç›®å½•ã€‚</p>
</blockquote>
<p>å•å…ƒæµ‹è¯•å…¨éƒ¨é€šè¿‡æ—¶çš„ç»ˆç«¯æ˜¾ç¤ºä¿¡æ¯<br><img src="/../images/vue3%E5%B7%A5%E4%BD%9C%E6%B5%8144.webp" alt="&#39;vue3å·¥ä½œæµ44â€˜"></p>
<p>å•å…ƒæµ‹è¯•æœªå…¨éƒ¨é€šè¿‡æ—¶çš„ç»ˆç«¯æ˜¾ç¤ºä¿¡æ¯<br><img src="/../images/vue3%E5%B7%A5%E4%BD%9C%E6%B5%8145.webp" alt="&#39;vue3å·¥ä½œæµ45â€˜"></p>
<p>å½“å•å…ƒæµ‹è¯•æ²¡æœ‰å…¨éƒ¨é€šè¿‡æ—¶ï¼Œæˆ‘ä»¬éœ€è¦æ ¹æ®æŠ¥é”™ä¿¡æ¯å»ä¼˜åŒ–å¯¹åº”ç»„ä»¶çš„ä»£ç ï¼Œè¿›ä¸€æ­¥æé«˜é¡¹ç›®å¥å£®æ€§ã€‚ä½†æ˜¯å†™å•å…ƒæµ‹è¯•æ˜¯ä»¶æ¯”è¾ƒç—›è‹¦çš„äº‹ï¼Œæˆ‘ä¸ªäººè§‰å¾—ä¹Ÿæ²¡å¿…è¦å…¨éƒ¨ç»„ä»¶éƒ½å†™å•å…ƒæµ‹è¯•ï¼Œæ ¹æ®é¡¹ç›®å®é™…æƒ…å†µæœ‰é’ˆå¯¹æ€§å»å†™å°±è¡Œäº†ã€‚</p>
<h2 id="å•å…ƒæµ‹è¯•çº¦æŸ"><a href="#å•å…ƒæµ‹è¯•çº¦æŸ" class="headerlink" title="å•å…ƒæµ‹è¯•çº¦æŸ"></a><strong>å•å…ƒæµ‹è¯•çº¦æŸ</strong></h2><p>å‰é¢ï¼Œæˆ‘ä»¬ä½¿ç”¨ husky åœ¨ Git çš„ pre-commit å’Œ commit-msg é˜¶æ®µåˆ†åˆ«çº¦æŸä»£ç é£æ ¼è§„èŒƒå’Œæäº¤ä¿¡æ¯è§„èŒƒã€‚è¿™ä¸€æ­¥ï¼Œæˆ‘ä»¬åœ¨ pre-push é˜¶æ®µè¿›è¡Œå•å…ƒæµ‹è¯•ï¼Œåªæœ‰å•å…ƒæµ‹è¯•å…¨éƒ¨é€šè¿‡æ‰è®©ä»£ç  push åˆ°è¿œç«¯ä»“åº“ï¼Œå¦åˆ™ç»ˆæ­¢ pushã€‚</p>
<p>ä½¿ç”¨ husky å‘½ä»¤åœ¨ .husky ç›®å½•ä¸‹è‡ªåŠ¨åˆ›å»º pre-push hook æ–‡ä»¶ï¼Œå¹¶åœ¨æ­¤æ‰§è¡Œå•å…ƒæµ‹è¯•å‘½ä»¤ npm run testã€‚</p>
<pre><code>npx husky add .husky/pre-push &quot;npm run test $1&quot;
</code></pre>
<p><img src="/../images/vue3%E5%B7%A5%E4%BD%9C%E6%B5%8146.webp" alt="&#39;vue3å·¥ä½œæµ46â€˜"></p>
<p>ç°åœ¨ï¼Œæˆ‘ä»¬åœ¨ git push æ—¶å°±èƒ½å…ˆè¿›è¡Œå•å…ƒæµ‹è¯•äº†ï¼Œåªæœ‰å•å…ƒæµ‹è¯•å…¨éƒ¨é€šè¿‡ï¼Œæ‰èƒ½æˆåŠŸ pushã€‚</p>
<h1 id="è‡ªåŠ¨éƒ¨ç½²"><a href="#è‡ªåŠ¨éƒ¨ç½²" class="headerlink" title="è‡ªåŠ¨éƒ¨ç½²"></a><strong>è‡ªåŠ¨éƒ¨ç½²</strong></h1><p>åˆ°äº†è¿™ä¸€æ­¥ï¼Œæˆ‘ä»¬å·²ç»åœ¨é¡¹ç›®ä¸­é›†æˆä»£ç è§„èŒƒçº¦æŸã€æäº¤ä¿¡æ¯è§„èŒƒçº¦æŸï¼Œå•å…ƒæµ‹è¯•çº¦æŸï¼Œä»è€Œä¿è¯æˆ‘ä»¬è¿œç«¯ä»“åº“ï¼ˆå¦‚ GitHubã€GitLabã€Gitee ä»“åº“ç­‰ï¼‰çš„ä»£ç éƒ½æ˜¯é«˜è´¨é‡çš„ã€‚</p>
<p>æœ¬é¡¹ç›®æ˜¯è¦æ­å»ºä¸€å¥—è§„èŒƒçš„å‰ç«¯å·¥ç¨‹åŒ–ç¯å¢ƒï¼Œä¸ºæ­¤æˆ‘ä»¬ä½¿ç”¨ CIï¼ˆContinuous Integration æŒç»­é›†æˆï¼‰æ¥å®Œæˆé¡¹ç›®æœ€åçš„éƒ¨ç½²å·¥ä½œã€‚</p>
<p>å¸¸è§çš„ CI å·¥å…·æœ‰ GitHub Actionsã€GitLab CIã€Travis CIã€Circle CI ç­‰ã€‚</p>
<p>è¿™é‡Œï¼Œæˆ‘ä»¬ä½¿ç”¨ GitHub Actionsã€‚</p>
<h2 id="ä»€ä¹ˆæ˜¯-GitHub-Actions"><a href="#ä»€ä¹ˆæ˜¯-GitHub-Actions" class="headerlink" title="ä»€ä¹ˆæ˜¯ GitHub Actions"></a><strong>ä»€ä¹ˆæ˜¯ GitHub Actions</strong></h2><p>GitHub Actions æ˜¯ GitHub çš„æŒç»­é›†æˆæœåŠ¡ï¼ŒæŒç»­é›†æˆç”±å¾ˆå¤šæ“ä½œç»„æˆï¼Œæ¯”å¦‚æŠ“å–ä»£ç ã€è¿è¡Œæµ‹è¯•ã€ç™»å½•è¿œç¨‹æœåŠ¡å™¨ã€å‘å¸ƒåˆ°ç¬¬ä¸‰æ–¹æœåŠ¡ç­‰ç­‰ï¼ŒGitHub æŠŠè¿™äº›æ“ä½œç§°ä¸º actionsã€‚</p>
<h2 id="é…ç½®-GitHub-Actions"><a href="#é…ç½®-GitHub-Actions" class="headerlink" title="é…ç½® GitHub Actions"></a><strong>é…ç½® GitHub Actions</strong></h2><h3 id="åˆ›å»º-GitHub-ä»“åº“"><a href="#åˆ›å»º-GitHub-ä»“åº“" class="headerlink" title="åˆ›å»º GitHub ä»“åº“"></a><strong>åˆ›å»º GitHub ä»“åº“</strong></h3><p>å› ä¸º GitHub Actions åªå¯¹ GitHub ä»“åº“æœ‰æ•ˆï¼Œæ‰€ä»¥æˆ‘ä»¬åˆ›å»º GitHub ä»“åº“[46]æ¥æ‰˜ç®¡é¡¹ç›®ä»£ç ã€‚</p>
<p><img src="/../images/vue3%E5%B7%A5%E4%BD%9C%E6%B5%8148.webp" alt="&#39;vue3å·¥ä½œæµ48â€˜"></p>
<p>å…¶ä¸­ï¼Œæˆ‘ä»¬ç”¨ï¼š</p>
<p>master åˆ†æ”¯å­˜å‚¨é¡¹ç›®æºä»£ç <br>gh-pages åˆ†æ”¯å­˜å‚¨æ‰“åŒ…åçš„é™æ€æ–‡ä»¶</p>
<blockquote>
<p>gh-pages åˆ†æ”¯ï¼Œæ˜¯ GitHub Pages æœåŠ¡çš„å›ºå®šåˆ†æ”¯ï¼Œå¯ä»¥é€šè¿‡ HTTP çš„æ–¹å¼è®¿é—®åˆ°è¿™ä¸ªåˆ†æ”¯çš„é™æ€æ–‡ä»¶èµ„æºã€‚</p>
</blockquote>
<h3 id="åˆ›å»º-GitHub-Token"><a href="#åˆ›å»º-GitHub-Token" class="headerlink" title="åˆ›å»º GitHub Token"></a><strong>åˆ›å»º GitHub Token</strong></h3><p>åˆ›å»ºä¸€ä¸ªæœ‰ repo å’Œ workflow æƒé™çš„ GitHub Token[47]</p>
<p><img src="/../images/vue3%E5%B7%A5%E4%BD%9C%E6%B5%8149.webp" alt="&#39;vue3å·¥ä½œæµ49â€˜"></p>
<p>æ³¨æ„ï¼šæ–°ç”Ÿæˆçš„ Token åªä¼šæ˜¾ç¤ºä¸€æ¬¡ï¼Œä¿å­˜èµ·æ¥ï¼Œåé¢è¦ç”¨åˆ°ã€‚å¦‚æœ‰é—å¤±ï¼Œé‡æ–°ç”Ÿæˆå³å¯ã€‚</p>
<p><img src="/../images/vue3%E5%B7%A5%E4%BD%9C%E6%B5%8150.webp" alt="&#39;vue3å·¥ä½œæµ50â€˜"></p>
<h3 id="åœ¨ä»“åº“ä¸­æ·»åŠ -secret"><a href="#åœ¨ä»“åº“ä¸­æ·»åŠ -secret" class="headerlink" title="åœ¨ä»“åº“ä¸­æ·»åŠ  secret"></a><strong>åœ¨ä»“åº“ä¸­æ·»åŠ  secret</strong></h3><p>å°†ä¸Šé¢æ–°åˆ›å»ºçš„ Token æ·»åŠ åˆ° GitHub ä»“åº“çš„ Secrets é‡Œï¼Œå¹¶å°†è¿™ä¸ªæ–°å¢çš„ secret å‘½åä¸º VUE3_DEPLOY ï¼ˆåå­—æ— æ‰€è°“ï¼Œçœ‹ä½ å–œæ¬¢ï¼‰ã€‚</p>
<p>æ­¥éª¤ï¼šä»“åº“ -&gt; settings -&gt; Secrets -&gt; New repository secretã€‚</p>
<p><img src="/../images/vue3%E5%B7%A5%E4%BD%9C%E6%B5%8151.webp" alt="&#39;vue3å·¥ä½œæµ51â€˜"></p>
<blockquote>
<p>æ–°åˆ›å»ºçš„ secret VUE3_DEPLOY åœ¨ Actions é…ç½®æ–‡ä»¶ä¸­è¦ç”¨åˆ°ï¼Œä¸¤ä¸ªåœ°æ–¹éœ€ä¿æŒä¸€è‡´ï¼</p>
</blockquote>
<h3 id="åˆ›å»º-Actions-é…ç½®æ–‡ä»¶"><a href="#åˆ›å»º-Actions-é…ç½®æ–‡ä»¶" class="headerlink" title="åˆ›å»º Actions é…ç½®æ–‡ä»¶"></a><strong>åˆ›å»º Actions é…ç½®æ–‡ä»¶</strong></h3><ol>
<li>åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹åˆ›å»º .github ç›®å½•ã€‚</li>
<li>åœ¨ .github ç›®å½•ä¸‹åˆ›å»º workflows ç›®å½•ã€‚</li>
<li>åœ¨ workflows ç›®å½•ä¸‹åˆ›å»º deploy.yml æ–‡ä»¶ã€‚<br><img src="/../images/vue3%E5%B7%A5%E4%BD%9C%E6%B5%8152.webp" alt="&#39;vue3å·¥ä½œæµ52â€˜"></li>
</ol>
<p>deploy.yml æ–‡ä»¶çš„å†…å®¹ï¼š</p>
<pre><code class="yml">name: deploy

on:
  push:
    branches: [master] # master åˆ†æ”¯æœ‰ push æ—¶è§¦å‘

jobs:
  deploy:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2

      - name: Setup Node.js v14.x
        uses: actions/setup-node@v1
        with:
          node-version: &quot;14.x&quot;

      - name: Install
        run: npm install # å®‰è£…ä¾èµ–

      - name: Build
        run: npm run build # æ‰“åŒ…

      - name: Deploy
        uses: peaceiris/actions-gh-pages@v3 # ä½¿ç”¨éƒ¨ç½²åˆ° GitHub pages çš„ action
        with:
          publish_dir: ./dist # éƒ¨ç½²æ‰“åŒ…åçš„ dist ç›®å½•
          github_token: $&#123;&#123; secrets.VUE3_DEPLOY &#125;&#125; # secret å
          user_name: $&#123;&#123; secrets.MY_USER_NAME &#125;&#125;
          user_email: $&#123;&#123; secrets.MY_USER_EMAIL &#125;&#125;
          commit_message: Update Vite2.x + Vue3.x + TypeScript Starter # éƒ¨ç½²æ—¶çš„ git æäº¤ä¿¡æ¯ï¼Œè‡ªç”±å¡«å†™
</code></pre>
<h2 id="è‡ªåŠ¨éƒ¨ç½²è§¦å‘åŸç†"><a href="#è‡ªåŠ¨éƒ¨ç½²è§¦å‘åŸç†" class="headerlink" title="è‡ªåŠ¨éƒ¨ç½²è§¦å‘åŸç†"></a><strong>è‡ªåŠ¨éƒ¨ç½²è§¦å‘åŸç†</strong></h2><p>å½“æœ‰æ–°æäº¤çš„ä»£ç  push åˆ° GitHub ä»“åº“æ—¶ï¼Œå°±ä¼šè§¦å‘ GitHub Actionsï¼Œåœ¨ GitHub æœåŠ¡å™¨ä¸Šæ‰§è¡Œ Action é…ç½®æ–‡ä»¶é‡Œé¢çš„å‘½ä»¤ï¼Œä¾‹å¦‚ï¼šå®‰è£…ä¾èµ–ã€é¡¹ç›®æ‰“åŒ…ç­‰ï¼Œç„¶åå°†æ‰“åŒ…å¥½çš„é™æ€æ–‡ä»¶éƒ¨ç½²åˆ° GitHub Pages ä¸Šï¼Œæœ€åï¼Œæˆ‘ä»¬å°±èƒ½é€šè¿‡åŸŸåè®¿é—®äº†ã€‚</p>
<p>ğŸŒ é€šè¿‡åŸŸå <a target="_blank" rel="noopener" href="https://vite-vue3-starter.xpoet.cn/">https://vite-vue3-starter.xpoet.cn/</a> è®¿é—®æœ¬é¡¹ç›®</p>
<p>ä½¿ç”¨è‡ªåŠ¨éƒ¨ç½²ï¼Œæˆ‘ä»¬åªéœ€ä¸“æ³¨äºé¡¹ç›®å¼€å‘é˜¶æ®µï¼Œä»»ä½•é‡å¤ä¸”æ¯ç‡¥çš„è¡Œä¸ºéƒ½äº¤ç”±ç¨‹åºå»å®Œæˆï¼Œæ‡’æ‰æ˜¯ç¨‹åºå‘˜ç¬¬ä¸€ç”Ÿäº§åŠ›ã€‚</p>
<p>äº‹å®ä¸Šï¼Œè‡ªåŠ¨éƒ¨ç½²åªæ˜¯ GitHub Actions åŠŸèƒ½çš„å†°å±±ä¸€è§’ï¼ŒGitHub Actions èƒ½åšçš„äº‹è¿˜å¾ˆå¤šå¾ˆå¤šï¼Œå¤§å®¶æ„Ÿå…´è¶£çš„è¯è‡ªè¡ŒæŸ¥é˜…ã€‚</p>
<h1 id="æœ€å"><a href="#æœ€å" class="headerlink" title="æœ€å"></a><strong>æœ€å</strong></h1><p>æœ¬æ–‡ä»æŠ€æœ¯é€‰é¡¹åˆ°æ¶æ„æ­å»ºã€ä»ä»£ç è§„èŒƒçº¦æŸåˆ°æäº¤ä¿¡æ¯è§„èŒƒçº¦æŸï¼Œä»å•å…ƒæµ‹è¯•åˆ°è‡ªåŠ¨éƒ¨ç½²ï¼Œä¸€æ­¥ä¸€æ­¥å¸¦é¢†å¤§å®¶å¦‚ä½•ä»ä¸€ä¸ªæœ€ç®€å•çš„å‰ç«¯é¡¹ç›®éª¨æ¶åˆ°è§„èŒƒçš„å‰ç«¯å·¥ç¨‹åŒ–ç¯å¢ƒï¼ŒåŸºæœ¬ä¸Šæ¶µç›–äº†å‰ç«¯é¡¹ç›®å¼€å‘çš„æ•´ä¸ªå‘¨æœŸã€‚</p>
<p>å› ç¯‡å¹…è¾ƒé•¿ï¼Œæ‰€æ¶‰åŠæŠ€æœ¯ç‚¹è¾ƒå¤šï¼Œéš¾å…ä¼šå‡ºç°é”™è¯¯ï¼Œå¸Œæœ›å¤§å®¶å¤šå¤šæŒ‡æ­£ï¼Œè°¢è°¢å¤§å®¶ï¼</p>
<blockquote>
<p>æœ¬é¡¹ç›®å®Œæ•´çš„ä»£ç æ‰˜ç®¡åœ¨ GitHub ä»“åº“[48]ï¼Œéœ€è¦çš„åŒå­¦è‡ªå–ï¼Œåˆ«å¿˜äº†ç‚¹ Star æ”¯æŒä½œè€…~</p>
</blockquote>
<p>å‚è€ƒèµ„æ–™<br>[1]GitHub ä»“åº“: <a target="_blank" rel="noopener" href="https://github.com/XPoet/vite-vue3-starter">https://github.com/XPoet/vite-vue3-starter</a><br>[2]TypeScript 4.x: <a target="_blank" rel="noopener" href="https://www.typescriptlang.org/zh/">https://www.typescriptlang.org/zh/</a><br>[3]JavaScript: <a target="_blank" rel="noopener" href="https://www.javascript.com/">https://www.javascript.com/</a><br>[4]Vite 2.x: <a target="_blank" rel="noopener" href="https://cn.vitejs.dev/">https://cn.vitejs.dev/</a><br>[5]Vue 3.x: <a target="_blank" rel="noopener" href="https://v3.cn.vuejs.org/">https://v3.cn.vuejs.org/</a><br>[6]Vue Router 4.x: <a target="_blank" rel="noopener" href="https://next.router.vuejs.org/zh/index.html">https://next.router.vuejs.org/zh/index.html</a><br>[7]Vuex 4.x: <a target="_blank" rel="noopener" href="https://next.vuex.vuejs.org/">https://next.vuex.vuejs.org/</a><br>[8]Element Plus: <a target="_blank" rel="noopener" href="https://element-plus.org/#/zh-CN">https://element-plus.org/#/zh-CN</a><br>[9]Stylus: <a target="_blank" rel="noopener" href="https://stylus-lang.com/">https://stylus-lang.com/</a><br>[10]Sass: <a target="_blank" rel="noopener" href="https://sass.bootcss.com/documentation">https://sass.bootcss.com/documentation</a><br>[11]Less: <a target="_blank" rel="noopener" href="http://lesscss.cn/">http://lesscss.cn/</a><br>[12]Axios: <a target="_blank" rel="noopener" href="https://axios-http.com/">https://axios-http.com/</a><br>[13]husky: <a target="_blank" rel="noopener" href="https://typicode.github.io/husky/#/">https://typicode.github.io/husky/#/</a><br>[14]lint-staged: <a target="_blank" rel="noopener" href="https://github.com/okonet/lint-staged">https://github.com/okonet/lint-staged</a><br>[15]EditorConfig: <a target="_blank" rel="noopener" href="http://editorconfig.org/">http://editorconfig.org</a><br>[16]Prettier: <a target="_blank" rel="noopener" href="https://prettier.io/">https://prettier.io/</a><br>[17]ESLint: <a target="_blank" rel="noopener" href="https://eslint.org/">https://eslint.org/</a><br>[18]Airbnb JavaScript Style Guide: <a target="_blank" rel="noopener" href="https://github.com/airbnb/javascript#translation">https://github.com/airbnb/javascript#translation</a><br>[19]Commitizen: <a target="_blank" rel="noopener" href="http://commitizen.github.io/cz-cli/">http://commitizen.github.io/cz-cli/</a><br>[20]Commitlint: <a target="_blank" rel="noopener" href="https://commitlint.js.org/#/">https://commitlint.js.org/#/</a><br>[21]vue-test-utils: <a target="_blank" rel="noopener" href="https://next.vue-test-utils.vuejs.org/">https://next.vue-test-utils.vuejs.org/</a><br>[22]jest: <a target="_blank" rel="noopener" href="https://jestjs.io/">https://jestjs.io/</a><br>[23]vue-jest: <a target="_blank" rel="noopener" href="https://github.com/vuejs/vue-jest">https://github.com/vuejs/vue-jest</a><br>[24]ts-jest: <a target="_blank" rel="noopener" href="https://kulshekhar.github.io/ts-jest/">https://kulshekhar.github.io/ts-jest/</a><br>[25]GitHub Actions: <a target="_blank" rel="noopener" href="https://docs.github.com/cn/actions/learn-github-actions">https://docs.github.com/cn/actions/learn-github-actions</a><br>[26]GitHub ä»“åº“: <a target="_blank" rel="noopener" href="https://github.com/XPoet/vite-vue3-starter">https://github.com/XPoet/vite-vue3-starter</a><br>[27]é…ç½®æ–‡ä»¶: <a target="_blank" rel="noopener" href="https://prettier.io/docs/en/configuration.html">https://prettier.io/docs/en/configuration.html</a><br>[28]Prettier-Options: <a target="_blank" rel="noopener" href="https://prettier.io/docs/en/options.html">https://prettier.io/docs/en/options.html</a><br>[29]ESLint: <a target="_blank" rel="noopener" href="https://github.com/eslint/eslint">https://github.com/eslint/eslint</a><br>[30]Airbnb JavaScript Style Guide: <a target="_blank" rel="noopener" href="https://github.com/airbnb/javascript">https://github.com/airbnb/javascript</a><br>[31]Airbnb JavaScript é£æ ¼æŒ‡å— - ä¸­æ–‡ç‰ˆ: <a target="_blank" rel="noopener" href="https://github.com/lin-123/javascript">https://github.com/lin-123/javascript</a><br>[32]JavaScript Standard Style: <a target="_blank" rel="noopener" href="https://github.com/standard/standard">https://github.com/standard/standard</a><br>[33]JavaScript Standard Style - ä¸­æ–‡ç‰ˆ: <a target="_blank" rel="noopener" href="https://github.com/standard/standard/blob/master/docs/README-zhcn.md">https://github.com/standard/standard/blob/master/docs/README-zhcn.md</a><br>[34]Google JavaScript Style Guide: <a target="_blank" rel="noopener" href="https://google.github.io/styleguide/jsguide.html">https://google.github.io/styleguide/jsguide.html</a><br>[35]husky: <a target="_blank" rel="noopener" href="https://github.com/typicode/husky">https://github.com/typicode/husky</a><br>[36]lint-staged: <a target="_blank" rel="noopener" href="https://github.com/okonet/lint-staged">https://github.com/okonet/lint-staged</a><br>[37]husky: <a target="_blank" rel="noopener" href="https://github.com/typicode/husky">https://github.com/typicode/husky</a><br>[38]lint-staged: <a target="_blank" rel="noopener" href="https://github.com/okonet/lint-staged">https://github.com/okonet/lint-staged</a><br>[39]husky å®˜ç½‘: <a target="_blank" rel="noopener" href="https://typicode.github.io/husky/#/?id=usage">https://typicode.github.io/husky/#/?id=usage</a><br>[40]Angular é¡¹ç›®çš„æäº¤è®°å½•: <a target="_blank" rel="noopener" href="https://github.com/angular/angular/commits/master">https://github.com/angular/angular/commits/master</a><br>[41]ç¤ºä¾‹: <a target="_blank" rel="noopener" href="https://github.com/leoforfree/cz-customizable/blob/master/cz-config-EXAMPLE.js">https://github.com/leoforfree/cz-customizable/blob/master/cz-config-EXAMPLE.js</a><br>[42]vue-test-utils: <a target="_blank" rel="noopener" href="https://github.com/vuejs/vue-test-utils-next">https://github.com/vuejs/vue-test-utils-next</a><br>[43]jest: <a target="_blank" rel="noopener" href="https://github.com/facebook/jest">https://github.com/facebook/jest</a><br>[44]vue-jest: <a target="_blank" rel="noopener" href="https://github.com/vuejs/vue-jest">https://github.com/vuejs/vue-jest</a><br>[45]ts-jest: <a target="_blank" rel="noopener" href="https://github.com/kulshekhar/ts-jest">https://github.com/kulshekhar/ts-jest</a><br>[46]åˆ›å»º GitHub ä»“åº“: <a target="_blank" rel="noopener" href="https://github.com/new">https://github.com/new</a><br>[47]GitHub Token: <a target="_blank" rel="noopener" href="https://github.com/settings/tokens/new">https://github.com/settings/tokens/new</a><br>[48]GitHub ä»“åº“: <a target="_blank" rel="noopener" href="https://github.com/XPoet/vite-vue3-starter">https://github.com/XPoet/vite-vue3-starter</a></p>

        </div>

    </div>

    

    

    

    
  <div class="article-copyright hairline">
    <p>
      æœ¬ä½œå“é‡‡ç”¨  <a rel="license noopener" target="_blank" href="http://creativecommons.org/licenses/by-nc-nd/4.0/">çŸ¥è¯†å…±äº«ç½²å-éå•†ä¸šæ€§ä½¿ç”¨-ç¦æ­¢æ¼”ç» 4.0 å›½é™…è®¸å¯åè®® (CC BY-NC-ND 4.0)</a> è¿›è¡Œè®¸å¯ã€‚
    </p>
  </div>
  

    

    
<nav class="article-nav">
  
    <a href="/2022/06/30/%E7%90%86%E8%AE%BA%E7%9F%A5%E8%AF%86%E5%92%8C%E5%AE%9E%E8%B7%B5%E7%9F%A5%E8%AF%86/" id="article-nav-newer" class="article-nav-link-wrap">
      <div class="article-nav-caption">ä¸‹ä¸€ç¯‡</div>
      <div class="article-nav-title">
        
          ç†è®ºçŸ¥è¯†å’Œå®è·µçŸ¥è¯†
        
      </div>
    </a>
  
  
    <a href="/2022/06/17/%E5%BD%93%E3%80%8C%E5%A4%AA%E9%BA%BB%E7%83%A6%E4%BA%86%E3%80%8D%E6%88%90%E4%B8%BA%E5%80%9F%E5%8F%A3/" id="article-nav-older" class="article-nav-link-wrap">
      <div class="article-nav-caption">ä¸Šä¸€ç¯‡</div>
      <div class="article-nav-title">å½“ã€Œå¤ªéº»çƒ¦äº†ã€æˆä¸ºå€Ÿå£</div>
    </a>
  
</nav>


    <section class="share">
        <div class="share-title">åˆ†äº«</div>
        <a class="share-item" target="_blank"
            href="https://twitter.com/share?text=vue3å¤§å‹é¡¹ç›®å‰ç«¯å·¥ä½œæµ - Jake Ma&url=https://jakemama.github.io/2022/06/29/vue3%E5%A4%A7%E5%9E%8B%E9%A1%B9%E7%9B%AE%E5%89%8D%E7%AB%AF%E5%B7%A5%E4%BD%9C%E6%B5%81/">
            <box-icon type='logo' name='twitter'></box-icon>
        </a>
        <a class="share-item" target="_blank"
            href="https://www.facebook.com/sharer.php?title=vue3å¤§å‹é¡¹ç›®å‰ç«¯å·¥ä½œæµ - Jake Ma&u=https://jakemama.github.io/2022/06/29/vue3%E5%A4%A7%E5%9E%8B%E9%A1%B9%E7%9B%AE%E5%89%8D%E7%AB%AF%E5%B7%A5%E4%BD%9C%E6%B5%81/">
            <box-icon name='facebook-square' type='logo' ></box-icon>
        </a>
        <!-- <a class="share-item" target="_blank"
            href="https://service.weibo.com/share/share.php?title=vue3å¤§å‹é¡¹ç›®å‰ç«¯å·¥ä½œæµ - Jake Ma&url=https://jakemama.github.io/2022/06/29/vue3%E5%A4%A7%E5%9E%8B%E9%A1%B9%E7%9B%AE%E5%89%8D%E7%AB%AF%E5%B7%A5%E4%BD%9C%E6%B5%81/&pic=">
            <div class="n-icon n-icon-weibo"></div>
        </a> -->
    </section>

</article>
















</div>
                </section>
            </section>

            
            <aside class="sidebar sidebar-search-fix">
                

    <div class="search">
    <div class="has-icon-right">
        <input type="text" class="form-input" id="search" placeholder="SEARCH" autocomplete="off">
        <div class="form-icon">
            <box-icon name='search' color="#3c4859"></box-icon>
        </div>
    </div>
    <div class="search-result" id="search-ps"></div>
</div>


<div class="widget" id="widget">
    
      
  <div class="widget-wrap">
    <div class="widget-inner">
      <div class="toc post-toc-html"></div>
    </div>
  </div>

    
      
  <div class="widget-wrap widget-cate">
    <div class="widget-title"><span>Categories</span></div>
    <div class="widget-inner">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/AI%E7%9B%B8%E5%85%B3/">AIç›¸å…³</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%89%8D%E7%AB%AF/">å‰ç«¯</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%90%8E%E7%AB%AF/">åç«¯</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%AE%89%E5%85%A8/">å®‰å…¨</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%AE%A2%E6%88%B7%E7%AB%AF/">å®¢æˆ·ç«¯</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/">æ•°æ®åº“</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%89%A9%E8%81%94%E7%BD%91/">ç‰©è”ç½‘</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E9%9A%8F%E7%AC%94/">éšç¬”</a></li></ul>
    </div>
  </div>


    
      
  <div class="widget-wrap widget-tags">
    <div class="widget-title"><span>Tags</span></div>
    <div class="widget-inner">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Android/" rel="tag">Android</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/IOS/" rel="tag">IOS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JavaScript/" rel="tag">JavaScript</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/bug/" rel="tag">bug</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/css/" rel="tag">css</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/docker/" rel="tag">docker</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/lodash/" rel="tag">lodash</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mqtt/" rel="tag">mqtt</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mysql/" rel="tag">mysql</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/nginx/" rel="tag">nginx</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/node/" rel="tag">node</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/pixi-js/" rel="tag">pixi.js</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/prompt/" rel="tag">prompt</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/puppeteer/" rel="tag">puppeteer</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/uniapp/" rel="tag">uniapp</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/vue/" rel="tag">vue</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/webpack/" rel="tag">webpack</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E4%BA%92%E8%81%94%E7%BD%91%E9%89%B4%E6%9D%83/" rel="tag">äº’è”ç½‘é‰´æƒ</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/" rel="tag">äººå·¥æ™ºèƒ½</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%8F%AF%E8%A7%86%E5%8C%96/" rel="tag">å¯è§†åŒ–</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%95%88%E7%8E%87/" rel="tag">æ•ˆç‡</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/" rel="tag">æ­£åˆ™è¡¨è¾¾å¼</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%AC%94%E8%AE%B0/" rel="tag">ç¬”è®°</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%BD%91%E7%BB%9C/" rel="tag">ç½‘ç»œ</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%BF%BB%E8%AF%91/" rel="tag">ç¿»è¯‘</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%BD%AC%E8%BD%BD/" rel="tag">è½¬è½½</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%BF%9C%E7%A8%8B%E5%8A%9E%E5%85%AC/" rel="tag">è¿œç¨‹åŠå…¬</a></li></ul>
    </div>
  </div>


    
      
  <div class="widget-wrap widget-recent-posts">
    <div class="widget-title"><span>Recent Posts</span></div>
    <div class="widget-inner">
      <ul>
        
          <li>
            <a href="/2025/03/07/node%E8%BF%9B%E7%A8%8B%E5%86%85%E5%AD%98%E6%BA%A2%E5%87%BA/">nodeè¿›ç¨‹å†…å­˜æº¢å‡º</a>
          </li>
        
          <li>
            <a href="/2025/03/07/%E5%89%8D%E7%AB%AF%E4%BE%9D%E8%B5%96%E7%BC%BA%E5%A4%B1/">å‰ç«¯ä¾èµ–ç¼ºå¤±</a>
          </li>
        
          <li>
            <a href="/2025/03/06/%E5%89%8D%E7%AB%AF%E4%BE%9D%E8%B5%96%E5%AE%89%E8%A3%85%E9%94%99%E8%AF%AF%E8%AF%86%E5%88%AB%E4%B8%8D%E5%88%B0.node%E6%96%87%E4%BB%B6%E5%BC%95%E5%85%A5/">å‰ç«¯ä¾èµ–å®‰è£…é”™è¯¯è¯†åˆ«ä¸åˆ°.nodeæ–‡ä»¶å¼•å…¥</a>
          </li>
        
          <li>
            <a href="/2025/02/25/scss%E6%8A%A5%E9%94%99import%E5%8D%B3%E5%B0%86%E5%BA%9F%E5%BC%83/">scssæŠ¥é”™Sass @import rules are deprecated and will be removed in Dart Sass 3.0.0</a>
          </li>
        
          <li>
            <a href="/2023/11/06/%E6%B5%8F%E8%A7%88%E5%99%A8DevTools%E4%BD%BF%E7%94%A8%E6%8A%80%E5%B7%A7/">æµè§ˆå™¨DevToolsä½¿ç”¨æŠ€å·§</a>
          </li>
        
      </ul>
    </div>
  </div>

    
      
  <div class="widget-wrap widget-archive">
    <div class="widget-title"><span>Archive</span></div>
    <div class="widget-inner">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2025/">2025</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/">2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/">2022</a></li></ul>
    </div>
  </div>


    
</div>

<div id="backtop"><i class="icon icon-arrow-up"></i></div>
            </aside>
            
        </div>
    </div>

    <footer class="footer">
    <div class="footer-wave">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1440 320"><path fill="#3c4859" fill-opacity="1" d="M0,160L60,181.3C120,203,240,245,360,240C480,235,600,181,720,186.7C840,192,960,256,1080,261.3C1200,267,1320,213,1380,186.7L1440,160L1440,320L1380,320C1320,320,1200,320,1080,320C960,320,840,320,720,320C600,320,480,320,360,320C240,320,120,320,60,320L0,320Z"></path></svg>
    </div>

    <!-- Please do not remove this -->
    <!-- å¼€æºä¸æ˜“ï¼Œè¯·å‹¿åˆ é™¤ -->
    <div class="footer-wrap">
        <div class="footer-inner"> 
            Jake Ma &copy; 2025<br>
            Powered By Hexo Â· Theme By <a href="https://linhong.me/" target="_blank">Aomori</a> Â· <a href="https://github.com/lh1me/hexo-theme-aomori" target="_blank">Github</a>
        </div>
    </div>

</footer>






<script src="/dist/build.js?1646451311888.js"></script>


<script src="/dist/custom.js?1646451311888.js"></script>





<!-- Google Analytics-->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-NG4NENLKCQ"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());
    gtag('config', 'G-NG4NENLKCQ');
</script>









</body>

</html>